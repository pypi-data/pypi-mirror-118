(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{472:function(e,t,n){var content=n(515);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(101).default)("3ce84188",content,!0,{sourceMap:!1})},484:function(e,t,n){"use strict";var r=n(3),o=n(513),c=n(39),l=n(29),d=n(15),f=n(123);r({target:"Array",proto:!0},{flatMap:function(e){var t,n=c(this),r=l(n.length);return d(e),(t=f(n,0)).length=o(t,n,n,r,0,1,e,arguments.length>1?arguments[1]:void 0),t}})},485:function(e,t,n){n(122)("flatMap")},497:function(e,t,n){var content=n(552);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(101).default)("e2d25760",content,!0,{sourceMap:!1})},513:function(e,t,n){"use strict";var r=n(104),o=n(29),c=n(40),l=function(e,t,source,n,d,f,m,_){for(var element,v=d,h=0,y=!!m&&c(m,_,3);h<n;){if(h in source){if(element=y?y(source[h],h,t):source[h],f>0&&r(element))v=l(e,t,element,o(element.length),v,f-1)-1;else{if(v>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[v]=element}v++}h++}return v};e.exports=l},514:function(e,t,n){"use strict";n(472)},515:function(e,t,n){var r=n(100)(!1);r.push([e.i,'.filter__item--confidence[data-v-e3fbda36]{position:relative;text-align:left;transition:border .2s ease;background:#fff;width:auto;height:45px;border:2px solid #e9eaed;align-items:center;padding:0 1em;transition:all .2s ease;border-radius:0}.filter__item--confidence[data-v-e3fbda36]:focus,.filter__item--confidence[data-v-e3fbda36]:hover{border:2px solid #0508d9;background:#fff;transition:border .2s ease,background .2s ease}.filter__item--confidence[data-v-e3fbda36]:after{content:"";border-color:#686a6d;border-style:solid;border-width:1px 1px 0 0;display:inline-block;height:8px;width:8px;transform:translateY(-50%) rotate(133deg);transition:all 1.5s ease;position:absolute;right:2.1em;top:50%;pointer-events:none}.filter__item--confidence .button-clear[data-v-e3fbda36],.filter__item--confidence .filter__buttons[data-v-e3fbda36]{display:none}.filter__item--confidence .confidence-content[data-v-e3fbda36]{width:100%;padding-right:.8em;padding-left:.8em;text-align:center}.filter__item--confidence .range__container[data-v-e3fbda36]{margin-top:-8px;padding:0 .5em}.filter__item--confidence .range[data-v-e3fbda36]{font-size:14px;font-size:.875rem;text-align:center;display:none}.filter__item--confidence .range__panel[data-v-e3fbda36]{display:inline-block;border:1px solid #e9eaed;padding:.5em 1em}.filter__item--confidence[data-v-e3fbda36]  svg{margin-top:5px;height:30px!important;max-width:90%}.filter__item--confidence.expanded[data-v-e3fbda36]{margin-top:10px;position:absolute;top:0;background:#fff;padding:.8em .8em 0;height:auto;min-height:auto;transition:height .1s ease-in-out;overflow:visible;border-radius:2px;z-index:4;width:400px;max-width:100vw;min-height:210px;border:2px solid #0508d9;pointer-events:all}.filter__item--confidence.expanded[data-v-e3fbda36]:after{content:none}.filter__item--confidence.expanded .confidence[data-v-e3fbda36]  svg{max-width:100%;height:100px!important}.filter__item--confidence.expanded .filter__buttons[data-v-e3fbda36]{margin-top:2em;display:block}.filter__item--confidence.expanded .range[data-v-e3fbda36]{display:block}.filter__item--confidence.expanded .range__container[data-v-e3fbda36]{pointer-events:visible}.filter__item--confidence.expanded .label-default[data-v-e3fbda36]{display:block}.filter[data-v-e3fbda36]{position:relative}.filter__row[data-v-e3fbda36]{display:flex;align-items:center}.filter__row .filter__item--confidence[data-v-e3fbda36]:not(.expanded){margin-right:0;margin-left:auto;width:220px}[data-v-e3fbda36] .marks .background,[data-v-e3fbda36] .marks line{stroke:none!important}[data-v-e3fbda36] .marks .role-axis,[data-v-e3fbda36] .marks .role-legend{display:none!important}[data-v-e3fbda36] .marks text{font-weight:400!important;font-family:"Open Sans","Helvetica","Arial",sans-serif!important}',""]),e.exports=r},527:function(e,t,n){"use strict";n.r(t);n(37),n(32),n(31);var r={props:{filter:{type:Object,default:function(){return{}}}},data:function(){return{confidenceExpanded:!1,rangeOptions:{height:4,dotSize:20,min:0,max:100,interval:1,show:!0},confidenceRanges:[],autosize:{type:"none",resize:!0,contains:"padding"},mark:"area",config:{mark:{color:"#D9D7E4",binSpacing:0},bar:{binSpacing:0,discreteBandSize:0,continuousBandSize:0},axis:{labels:!1},view:{height:100,width:400}},encoding:{x:{field:"key",type:"ordinal",scale:{rangeStep:null}},y:{field:"count",type:"quantitative",aggregate:"sum"}}}},computed:{options:function(){var e=this;return Object.keys(this.filter.options).map((function(t){return{key:t,count:e.filter.options[t]}}))},visible:function(){return this.confidenceExpanded},min:function(){return this.confidenceRanges[0]},max:function(){return this.confidenceRanges[1]}},created:function(){this.confidenceRanges=[this.rangeOptions.min,this.rangeOptions.max]},methods:{expandConfidence:function(){this.confidenceExpanded=!0},onApplyConfidenceRange:function(){this.$emit("apply",this.filter,{from:.01*this.min,to:.01*this.max}),this.confidenceExpanded=!1},onClose:function(){this.confidenceExpanded=!1}}},o=(n(514),n(43)),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"filter__row"},[n("p",{staticClass:"filter__label"},[e._v(e._s(e.filter.name)+":")]),e._v(" "),n("div",{staticClass:"filter__item filter__item--confidence",class:{"filter__item--open":e.confidenceExpanded},on:{click:e.expandConfidence}},[n("div",{staticClass:"confidence-content"},[n("vega-lite",{staticClass:"confidence",attrs:{data:e.options,autosize:e.autosize,config:e.config,mark:e.mark,encoding:e.encoding}})],1)]),e._v(" "),e.confidenceExpanded?n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClose,expression:"onClose"}],staticClass:"filter__item filter__item--confidence",class:{expanded:e.confidenceExpanded}},[n("div",{staticClass:"confidence-content"},[n("p",{staticClass:"range__panel"},[e._v(e._s(e.min)+"% to "+e._s(e.max)+"%")]),e._v(" "),n("vega-lite",{staticClass:"confidence",attrs:{data:e.options,autosize:e.autosize,config:e.config,mark:e.mark,encoding:e.encoding}}),e._v(" "),n("div",{staticClass:"range__container"},[e.confidenceExpanded?n("ReRange",e._b({ref:"slider",model:{value:e.confidenceRanges,callback:function(t){e.confidenceRanges=t},expression:"confidenceRanges"}},"ReRange",e.rangeOptions,!1)):e._e()],1)],1),e._v(" "),n("div",{staticClass:"filter__buttons"},[n("ReButton",{staticClass:"button-tertiary--small button-tertiary--outline",on:{click:function(t){return e.onClose()}}},[e._v("Cancel")]),e._v(" "),n("ReButton",{staticClass:"button-primary--small",on:{click:function(t){return e.onApplyConfidenceRange()}}},[e._v("Apply")])],1)]):e._e()])}),[],!1,null,"e3fbda36",null);t.default=component.exports;installComponents(component,{ReRange:n(597).default,ReButton:n(451).default})},551:function(e,t,n){"use strict";n(497)},552:function(e,t,n){var r=n(100)(!1);r.push([e.i,".filters[data-v-606222cc]{position:relative;display:inline-block;width:100%;z-index:2}.filters__tabs[data-v-606222cc]{display:flex}.filters__tabs__content[data-v-606222cc]{width:450px;position:absolute;top:calc(100% + 1em);box-shadow:0 5px 11px 0 rgba(0,0,0,.5);background:#fff;padding:3em 3em 2em;border-radius:5px;max-height:550px}.filters__tabs__content--large[data-v-606222cc]{width:910px;max-height:80vh;overflow:auto}.filters__tabs__content--large>span[data-v-606222cc]{display:inline-block;width:50%}.filters__tabs__content--large>span[data-v-606222cc]:nth-child(odd){padding-right:1em}.filters__tabs p[data-v-606222cc]{cursor:pointer;position:relative;margin-bottom:0;margin-top:0;padding:.8em 1em;border-radius:5px;margin-right:1em;color:#4c4ea3;font-size:15px;font-size:.9375rem}.filters__tabs p[data-v-606222cc]:last-child{margin-right:0}.filters__tabs p.active[data-v-606222cc]{background:#e9eaed;color:#0508d9}.filter[data-v-606222cc]{display:block;margin-bottom:1em}.filter__sort[data-v-606222cc]{min-width:150px;margin-right:0;margin-left:1em}",""]),e.exports=r},596:function(e,t,n){"use strict";n.r(t);n(28),n(44),n(26),n(45);var r=n(13),o=n(83);n(17),n(163),n(33),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(38),n(37),n(31),n(375),n(373),n(32),n(102),n(52),n(484),n(485),n(70),n(82);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d={props:{dataset:{type:Object,default:function(){return{}}}},data:function(){return{initialVisibleGroup:void 0,filters:[{key:"predicted_as",name:"Predicted as",type:"select",group:"Predictions",placeholder:"Select labels"},{key:"predicted",name:"Predicted ok",type:"select",group:"Predictions",placeholder:"Select yes/no"},{key:"confidence",name:"Confidence",type:"confidence",group:"Predictions"},{key:"predicted_by",name:"Predicted by",type:"select",group:"Predictions",placeholder:"Select agents"},{key:"annotated_as",name:"Annotated as",type:"select",group:"Annotations",placeholder:"Select labels"},{key:"annotated_by",name:"Annotated by",type:"select",group:"Annotations",placeholder:"Select labels"},{key:"status",name:"Status",type:"select",group:"Status",placeholder:"Select options"}]}},computed:{groups:function(){return Object(o.a)(new Set(this.filterList.map((function(e){return e.group}))))},isMultiLabelRecord:function(){return this.dataset.results.records.some((function(e){return e.multi_label}))},filterList:function(){var e=this,t=this.dataset.results.aggregations,n=this.filters.map((function(filter){return l(l({},filter),{},{id:filter.key,options:t[filter.key],selected:e.dataset.query[filter.key],disabled:"confidence"===filter.key&&e.isMultiLabelRecord||!t[filter.key]||!Object.entries(t[filter.key]).length||Object.values(t[filter.key]).every((function(e){return 0===e}))})})).filter((function(e){return!e.disabled})),r=t.metadata&&Object.keys(t.metadata).map((function(n){return{key:n,name:n,type:"select",group:"Metadata",placeholder:"Select options",id:n,options:t.metadata[n],selected:e.dataset.query.metadata&&e.dataset.query.metadata[n]||[]}})),c=r&&r.sort((function(a,b){return a.key.toLowerCase()>b.key.toLowerCase()?1:-1}))||[];return[].concat(Object(o.a)(n),Object(o.a)(c))}},methods:{onClickOutside:function(){this.initialVisibleGroup=void 0},itemsAppliedOnGroup:function(e){return this.filterList.filter((function(t){return t.group===e})).flatMap((function(e){return e.selected})).filter((function(e){return e})).length},selectGroup:function(e){this.initialVisibleGroup=e},setInitialGroup:function(){this.groups.includes(this.initialVisibleGroup)||(this.initialVisibleGroup=this.groups[0])},onApply:function(filter,e){this.initialVisibleGroup=void 0,"Metadata"===filter.group?this.$emit("applyMetaFilter",{filter:filter.key,values:e}):this.$emit("applyFilter",{filter:filter.key,values:e})}}},f=(n(551),n(43)),component=Object(f.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.onClickOutside,expression:"onClickOutside"}],staticClass:"filters"},[n("div",{staticClass:"filters__tabs"},e._l(e.groups,(function(t){return n("p",{key:t,class:{active:e.initialVisibleGroup===t||e.itemsAppliedOnGroup(t)},on:{click:function(n){return e.selectGroup(t)}}},[e._v("\n      "+e._s(t)+"\n      "),e.itemsAppliedOnGroup(t)?n("span",[e._v("("+e._s(e.itemsAppliedOnGroup(t))+")")]):e._e()])})),0),e._v(" "),e._l(e.groups,(function(t){return n("div",{key:t},[e.initialVisibleGroup===t?n("div",{class:["filters__tabs__content",e.filterList.filter((function(e){return e.group===t})).length>6?"filters__tabs__content--large":""]},e._l(e.filterList.filter((function(e){return e.group===t})),(function(filter){return n("span",{key:filter.id},["select"===filter.type?n("SelectFilter",{staticClass:"filter",attrs:{filter:filter},on:{apply:e.onApply}}):n("FilterConfidence",{staticClass:"filter",attrs:{filter:filter},on:{apply:e.onApply}})],1)})),0):e._e()])}))],2)}),[],!1,null,"606222cc",null);t.default=component.exports;installComponents(component,{SelectFilter:n(639).default,FilterConfidence:n(527).default})}}]);