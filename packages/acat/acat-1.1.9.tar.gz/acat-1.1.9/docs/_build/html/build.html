

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Building things &mdash; ACAT 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="_static/table_styling.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/acat_favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Genetic algorithm" href="ga.html" />
    <link rel="prev" title="Base modules" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> ACAT
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Base modules</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Building things</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-acat.build.action">Operate adsorbate</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-add-adsorbate-function">The add_adsorbate function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-add-adsorbate-to-site-function">The add_adsorbate_to_site function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-add-adsorbate-to-label-function">The add_adsorbate_to_label function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-remove-adsorbate-from-site-function">The remove_adsorbate_from_site function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-remove-adsorbates-from-sites-function">The remove_adsorbates_from_sites function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-remove-adsorbates-too-close-function">The remove_adsorbates_too_close function</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-acat.build.overlayer">Generate adsorbate overlayer patterns</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-stochasticpatterngenerator-class">The StochasticPatternGenerator class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-systematicpatterngenerator-class">The SystematicPatternGenerator class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-ordered-coverage-pattern-function">The ordered_coverage_pattern function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-full-coverage-pattern-function">The full_coverage_pattern function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-random-coverage-pattern-function">The random_coverage_pattern function</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-acat.build.ordering">Generate alloy chemical orderings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-symmetricclusterorderinggenerator-class">The SymmetricClusterOrderingGenerator class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-orderedslaborderinggenerator-class">The OrderedSlabOrderingGenerator class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-randomorderinggenerator-class">The RandomOrderingGenerator class</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ga.html">Genetic algorithm</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Other utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="notes.html">Notes</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ACAT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Building things</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/build.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="building-things">
<h1>Building things<a class="headerlink" href="#building-things" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-acat.build.action">
<span id="operate-adsorbate"></span><h2>Operate adsorbate<a class="headerlink" href="#module-acat.build.action" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-add-adsorbate-function">
<h3>The add_adsorbate function<a class="headerlink" href="#the-add-adsorbate-function" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="py function">
<dt id="acat.build.action.add_adsorbate">
<code class="sig-prename descclassname">acat.build.action.</code><code class="sig-name descname">add_adsorbate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">atoms</span></em>, <em class="sig-param"><span class="n">adsorbate</span></em>, <em class="sig-param"><span class="n">site</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">surface</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">morphology</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">indices</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">height</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">composition</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">orientation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tilt_angle</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">subsurf_element</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">both_sides</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">all_sites</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/action.html#add_adsorbate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.action.add_adsorbate" title="Permalink to this definition">¶</a></dt>
<dd><p>A general function for adding one adsorbate to the surface.
Note that this function adds one adsorbate to a random site
that meets the specified condition regardless of it is already
occupied or not. The function is generalized for both periodic
and non-periodic systems (distinguished by atoms.pbc).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>ase.Atoms object</em>) – Accept any ase.Atoms object. No need to be built-in.</p></li>
<li><p><strong>adsorbate</strong> (<em>str</em><em> or </em><em>ase.Atom object</em><em> or </em><em>ase.Atoms object</em>) – The adsorbate species to be added onto the surface.</p></li>
<li><p><strong>site</strong> (<em>str</em><em>, </em><em>default None</em>) – The site type that the adsorbate should be added to.</p></li>
<li><p><strong>surface</strong> (<em>str</em><em>, </em><em>default None</em>) – The surface type (crystal structure + Miller indices)
If the structure is a periodic surface slab, this is required.
If the structure is a nanoparticle, the function enumerates
only the sites on the specified surface.</p></li>
<li><p><strong>morphology</strong> (<em>str</em><em>, </em><em>default None</em>) – The morphology type that the adsorbate should be added to.
Only available for surface slabs.</p></li>
<li><p><strong>indices</strong> (<em>list</em><em> or </em><em>tuple</em>) – The indices of the atoms that contribute to the site that
you want to add adsorbate to. This has the highest priority.</p></li>
<li><p><strong>height</strong> (<em>float</em><em>, </em><em>default None</em>) – The height of the added adsorbate from the surface.
Use the default settings if not specified.</p></li>
<li><p><strong>composition</strong> (<em>str</em><em>, </em><em>default None</em>) – The elemental of the site that should be added to.</p></li>
<li><p><strong>orientation</strong> (<em>list</em><em> or </em><em>numpy.array</em><em>, </em><em>default None</em>) – The vector that the multidentate adsorbate is aligned to.</p></li>
<li><p><strong>tilt_angle</strong> (<em>float</em><em>, </em><em>default 0.</em>) – Tilt the adsorbate with an angle (in degress) relative to
the surface normal.</p></li>
<li><p><strong>subsurf_element</strong> (<em>str</em><em>, </em><em>default None</em>) – The subsurface element of the hcp or 4fold hollow site that
should be added to.</p></li>
<li><p><strong>both_sides</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to consider sites on both top and bottom sides
of the slab. Only relevant for periodic surface slabs.</p></li>
<li><p><strong>all_sites</strong> (<em>list of dicts</em><em>, </em><em>default None</em>) – The list of all sites. Provide this to make the function
much faster. Useful when the function is called many times.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p><strong>Example</strong></p>
<p>To add a NO molecule to a bridge site consists of one Pt and one
Ni on the fcc111 surface of a bimetallic truncated octahedron:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.action</span> <span class="kn">import</span> <span class="n">add_adsorbate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.cluster</span> <span class="kn">import</span> <span class="n">Octahedron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">Octahedron</span><span class="p">(</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">cutoff</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">atom</span> <span class="ow">in</span> <span class="n">atoms</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">atom</span><span class="o">.</span><span class="n">index</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">atom</span><span class="o">.</span><span class="n">symbol</span> <span class="o">=</span> <span class="s1">&#39;Pt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_adsorbate</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">adsorbate</span><span class="o">=</span><span class="s1">&#39;NO&#39;</span><span class="p">,</span> <span class="n">site</span><span class="o">=</span><span class="s1">&#39;bridge&#39;</span><span class="p">,</span>
<span class="gp">... </span>              <span class="n">surface</span><span class="o">=</span><span class="s1">&#39;fcc111&#39;</span><span class="p">,</span> <span class="n">composition</span><span class="o">=</span><span class="s1">&#39;NiPt&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">atoms</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<a class="reference internal image-reference" href="_images/add_adsorbate.png"><img alt="_images/add_adsorbate.png" class="align-center" src="_images/add_adsorbate.png" style="width: 533.4px; height: 253.39999999999998px;" /></a>
</div></blockquote>
</div>
<div class="section" id="the-add-adsorbate-to-site-function">
<h3>The add_adsorbate_to_site function<a class="headerlink" href="#the-add-adsorbate-to-site-function" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="py function">
<dt id="acat.build.action.add_adsorbate_to_site">
<code class="sig-prename descclassname">acat.build.action.</code><code class="sig-name descname">add_adsorbate_to_site</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">atoms</span></em>, <em class="sig-param"><span class="n">adsorbate</span></em>, <em class="sig-param"><span class="n">site</span></em>, <em class="sig-param"><span class="n">height</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">orientation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tilt_angle</span><span class="o">=</span><span class="default_value">0.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/action.html#add_adsorbate_to_site"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.action.add_adsorbate_to_site" title="Permalink to this definition">¶</a></dt>
<dd><p>The base function for adding one adsorbate to a site.
Site must include information of ‘normal’ and ‘position’.
Useful for adding adsorbate to multiple sites or adding
multidentate adsorbates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>ase.Atoms object</em>) – Accept any ase.Atoms object. No need to be built-in.</p></li>
<li><p><strong>adsorbate</strong> (<em>str</em><em> or </em><em>ase.Atom object</em><em> or </em><em>ase.Atoms object</em>) – The adsorbate species to be added onto the surface.</p></li>
<li><p><strong>site</strong> (<em>dict</em>) – The site that the adsorbate should be added to.
Must contain information of the position and the
normal vector of the site.</p></li>
<li><p><strong>height</strong> (<em>float</em><em>, </em><em>default None</em>) – The height of the added adsorbate from the surface.
Use the default settings if not specified.</p></li>
<li><p><strong>orientation</strong> (<em>list</em><em> or </em><em>numpy.array</em><em>, </em><em>default None</em>) – The vector that the multidentate adsorbate is aligned to.</p></li>
<li><p><strong>tilt_angle</strong> (<em>float</em><em>, </em><em>default None</em>) – Tilt the adsorbate with an angle (in degress) relative to
the surface normal.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p><strong>Example1</strong></p>
<p>To add CO to all fcc sites of an icosahedral nanoparticle:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.adsorption_sites</span> <span class="kn">import</span> <span class="n">ClusterAdsorptionSites</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.action</span> <span class="kn">import</span> <span class="n">add_adsorbate_to_site</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.cluster</span> <span class="kn">import</span> <span class="n">Icosahedron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">Icosahedron</span><span class="p">(</span><span class="s1">&#39;Pt&#39;</span><span class="p">,</span> <span class="n">noshells</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cas</span> <span class="o">=</span> <span class="n">ClusterAdsorptionSites</span><span class="p">(</span><span class="n">atoms</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fcc_sites</span> <span class="o">=</span> <span class="n">cas</span><span class="o">.</span><span class="n">get_sites</span><span class="p">(</span><span class="n">site</span><span class="o">=</span><span class="s1">&#39;fcc&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">site</span> <span class="ow">in</span> <span class="n">fcc_sites</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">add_adsorbate_to_site</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">adsorbate</span><span class="o">=</span><span class="s1">&#39;CO&#39;</span><span class="p">,</span> <span class="n">site</span><span class="o">=</span><span class="n">site</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">atoms</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<img alt="_images/add_adsorbate_to_site_1.png" class="align-center" src="_images/add_adsorbate_to_site_1.png" />
<p><strong>Example2</strong></p>
<p>To add a bidentate CH3OH to the (54, 57, 58) site on a Pt fcc111
surface slab and rotate to the orientation of a neighbor site:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.adsorption_sites</span> <span class="kn">import</span> <span class="n">SlabAdsorptionSites</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.adsorption_sites</span> <span class="kn">import</span> <span class="n">get_adsorption_site</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.action</span> <span class="kn">import</span> <span class="n">add_adsorbate_to_site</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.utilities</span> <span class="kn">import</span> <span class="n">get_mic</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.build</span> <span class="kn">import</span> <span class="n">fcc111</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">fcc111</span><span class="p">(</span><span class="s1">&#39;Pt&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span><span class="p">,</span> <span class="n">site</span> <span class="o">=</span> <span class="n">get_adsorption_site</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">indices</span><span class="o">=</span><span class="p">(</span><span class="mi">54</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">58</span><span class="p">),</span>
<span class="gp">... </span>                              <span class="n">surface</span><span class="o">=</span><span class="s1">&#39;fcc111&#39;</span><span class="p">,</span>
<span class="gp">... </span>                              <span class="n">return_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sas</span> <span class="o">=</span> <span class="n">SlabAdsorptionSites</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">surface</span><span class="o">=</span><span class="s1">&#39;fcc111&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sites</span> <span class="o">=</span> <span class="n">sas</span><span class="o">.</span><span class="n">get_sites</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nbsites</span> <span class="o">=</span> <span class="n">sas</span><span class="o">.</span><span class="n">get_neighbor_site_list</span><span class="p">(</span><span class="n">neighbor_number</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nbsite</span> <span class="o">=</span> <span class="n">sites</span><span class="p">[</span><span class="n">nbsites</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span> <span class="c1"># Choose the first neighbor site</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ori</span> <span class="o">=</span> <span class="n">get_mic</span><span class="p">(</span><span class="n">site</span><span class="p">[</span><span class="s1">&#39;position&#39;</span><span class="p">],</span> <span class="n">nbsite</span><span class="p">[</span><span class="s1">&#39;position&#39;</span><span class="p">],</span> <span class="n">atoms</span><span class="o">.</span><span class="n">cell</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_adsorbate_to_site</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">adsorbate</span><span class="o">=</span><span class="s1">&#39;CH3OH&#39;</span><span class="p">,</span> <span class="n">site</span><span class="o">=</span><span class="n">site</span><span class="p">,</span>
<span class="gp">... </span>                      <span class="n">orientation</span><span class="o">=</span><span class="n">ori</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">atoms</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<a class="reference internal image-reference" href="_images/add_adsorbate_to_site_2.png"><img alt="_images/add_adsorbate_to_site_2.png" class="align-center" src="_images/add_adsorbate_to_site_2.png" style="width: 471.09999999999997px; height: 223.29999999999998px;" /></a>
</div></blockquote>
</div>
<div class="section" id="the-add-adsorbate-to-label-function">
<h3>The add_adsorbate_to_label function<a class="headerlink" href="#the-add-adsorbate-to-label-function" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="py function">
<dt id="acat.build.action.add_adsorbate_to_label">
<code class="sig-prename descclassname">acat.build.action.</code><code class="sig-name descname">add_adsorbate_to_label</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">atoms</span></em>, <em class="sig-param"><span class="n">adsorbate</span></em>, <em class="sig-param"><span class="n">label</span></em>, <em class="sig-param"><span class="n">surface</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">height</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">orientation</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tilt_angle</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">composition_effect</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">both_sides</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">all_sites</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/action.html#add_adsorbate_to_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.action.add_adsorbate_to_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as add_adsorbate function, except that the site type is
represented by a numerical label. The function is generalized for
both periodic and non-periodic systems (distinguished by atoms.pbc).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>ase.Atoms object</em>) – Accept any ase.Atoms object. No need to be built-in.</p></li>
<li><p><strong>adsorbate</strong> (<em>str</em><em> or </em><em>ase.Atom object</em><em> or </em><em>ase.Atoms object</em>) – The adsorbate species to be added onto the surface.</p></li>
<li><p><strong>label</strong> (<em>int</em><em> or </em><em>str</em>) – The label of the site that the adsorbate should be added to.</p></li>
<li><p><strong>surface</strong> (<em>str</em><em>, </em><em>default None</em>) – The surface type (crystal structure + Miller indices)
If the structure is a periodic surface slab, this is required.
If the structure is a nanoparticle, the function enumerates
only the sites on the specified surface.</p></li>
<li><p><strong>height</strong> (<em>float</em><em>, </em><em>default None</em>) – The height of the added adsorbate from the surface.
Use the default settings if not specified.</p></li>
<li><p><strong>orientation</strong> (<em>list</em><em> or </em><em>numpy.array</em><em>, </em><em>default None</em>) – The vector that the multidentate adsorbate is aligned to.</p></li>
<li><p><strong>tilt_angle</strong> (<em>float</em><em>, </em><em>default 0.</em>) – Tilt the adsorbate with an angle (in degress) relative to
the surface normal.</p></li>
<li><p><strong>composition_effect</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether the label is defined in bimetallic labels or not.</p></li>
<li><p><strong>both_sides</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to consider sites on both top and bottom sides
of the slab. Only relevant for periodic surface slabs.</p></li>
<li><p><strong>all_sites</strong> (<em>list of dicts</em><em>, </em><em>default None</em>) – The list of all sites. Provide this to make the function
much faster. Useful when the function is called many times.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p><strong>Example</strong></p>
<p>To add a NH molecule to a site with bimetallic label 14 (an hcp
CuCuAu site) on a bimetallic fcc110 surface slab:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.action</span> <span class="kn">import</span> <span class="n">add_adsorbate_to_label</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.build</span> <span class="kn">import</span> <span class="n">fcc110</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">fcc110</span><span class="p">(</span><span class="s1">&#39;Cu&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">atom</span> <span class="ow">in</span> <span class="n">atoms</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">atom</span><span class="o">.</span><span class="n">index</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">atom</span><span class="o">.</span><span class="n">symbol</span> <span class="o">=</span> <span class="s1">&#39;Au&#39;</span>
<span class="gp">... </span><span class="n">atoms</span><span class="o">.</span><span class="n">center</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_adsorbate_to_label</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">adsorbate</span><span class="o">=</span><span class="s1">&#39;NH&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span>
<span class="gp">... </span>                       <span class="n">surface</span><span class="o">=</span><span class="s1">&#39;fcc110&#39;</span><span class="p">,</span> <span class="n">composition_effect</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">atoms</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<a class="reference internal image-reference" href="_images/add_adsorbate_to_label.png"><img alt="_images/add_adsorbate_to_label.png" class="align-center" src="_images/add_adsorbate_to_label.png" style="width: 301.7px; height: 143.5px;" /></a>
</div></blockquote>
</div>
<div class="section" id="the-remove-adsorbate-from-site-function">
<h3>The remove_adsorbate_from_site function<a class="headerlink" href="#the-remove-adsorbate-from-site-function" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="py function">
<dt id="acat.build.action.remove_adsorbate_from_site">
<code class="sig-prename descclassname">acat.build.action.</code><code class="sig-name descname">remove_adsorbate_from_site</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">atoms</span></em>, <em class="sig-param"><span class="n">site</span></em>, <em class="sig-param"><span class="n">remove_fragment</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/action.html#remove_adsorbate_from_site"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.action.remove_adsorbate_from_site" title="Permalink to this definition">¶</a></dt>
<dd><p>The base function for removing one adsorbate from an
occupied site. The site must include information of
‘adsorbate_indices’ or ‘fragment_indices’. Note that if
you want to remove adsorbates from multiple sites, call
this function multiple times will return the wrong result.
Please use remove_adsorbates_from_sites instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>ase.Atoms object</em>) – Accept any ase.Atoms object. No need to be built-in.</p></li>
<li><p><strong>site</strong> (<em>dict</em>) – The site that the adsorbate should be removed from.
Must contain information of the adsorbate indices.</p></li>
<li><p><strong>remove_fragment</strong> (<em>bool</em><em>, </em><em>default False</em>) – Remove the fragment of a multidentate adsorbate instead
of the whole adsorbate.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p><strong>Example1</strong></p>
<p>To remove a CO molecule from a fcc111 surface slab with one
CO and one OH:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.adsorption_sites</span> <span class="kn">import</span> <span class="n">SlabAdsorptionSites</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.adsorbate_coverage</span> <span class="kn">import</span> <span class="n">SlabAdsorbateCoverage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.action</span> <span class="kn">import</span> <span class="n">add_adsorbate_to_site</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.action</span> <span class="kn">import</span> <span class="n">remove_adsorbate_from_site</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.build</span> <span class="kn">import</span> <span class="n">fcc111</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">fcc111</span><span class="p">(</span><span class="s1">&#39;Pt&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="mi">4</span><span class="p">,</span> <span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span><span class="o">.</span><span class="n">center</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sas</span> <span class="o">=</span> <span class="n">SlabAdsorptionSites</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">surface</span><span class="o">=</span><span class="s1">&#39;fcc111&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sites</span> <span class="o">=</span> <span class="n">sas</span><span class="o">.</span><span class="n">get_sites</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_adsorbate_to_site</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">adsorbate</span><span class="o">=</span><span class="s1">&#39;OH&#39;</span><span class="p">,</span> <span class="n">site</span><span class="o">=</span><span class="n">sites</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_adsorbate_to_site</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">adsorbate</span><span class="o">=</span><span class="s1">&#39;CO&#39;</span><span class="p">,</span> <span class="n">site</span><span class="o">=</span><span class="n">sites</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sac</span> <span class="o">=</span> <span class="n">SlabAdsorbateCoverage</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">sas</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">occupied_sites</span> <span class="o">=</span> <span class="n">sac</span><span class="o">.</span><span class="n">get_sites</span><span class="p">(</span><span class="n">occupied_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">CO_site</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">occupied_sites</span> <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="s1">&#39;adsorbate&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CO&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remove_adsorbate_from_site</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">site</span><span class="o">=</span><span class="n">CO_site</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">atoms</span><span class="p">)</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="_images/remove_adsorbate_from_site.png"><img alt="_images/remove_adsorbate_from_site.png" src="_images/remove_adsorbate_from_site.png" style="width: 576.6px; height: 273.59999999999997px;" /></a>
</div></blockquote>
</div>
<div class="section" id="the-remove-adsorbates-from-sites-function">
<h3>The remove_adsorbates_from_sites function<a class="headerlink" href="#the-remove-adsorbates-from-sites-function" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="py function">
<dt id="acat.build.action.remove_adsorbates_from_sites">
<code class="sig-prename descclassname">acat.build.action.</code><code class="sig-name descname">remove_adsorbates_from_sites</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">atoms</span></em>, <em class="sig-param"><span class="n">sites</span></em>, <em class="sig-param"><span class="n">remove_fragments</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/action.html#remove_adsorbates_from_sites"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.action.remove_adsorbates_from_sites" title="Permalink to this definition">¶</a></dt>
<dd><p>The base function for removing multiple adsorbates from
an occupied site. The sites must include information of
‘adsorbate_indices’ or ‘fragment_indices’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>ase.Atoms object</em>) – Accept any ase.Atoms object. No need to be built-in.</p></li>
<li><p><strong>sites</strong> (<em>list of dicts</em>) – The site that the adsorbate should be removed from.
Must contain information of the adsorbate indices.</p></li>
<li><p><strong>remove_fragments</strong> (<em>bool</em><em>, </em><em>default False</em>) – Remove the fragment of a multidentate adsorbate instead
of the whole adsorbate.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p><strong>Example</strong></p>
<p>To remove all CO species from a fcc111 surface slab covered
with both CO and OH:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.adsorption_sites</span> <span class="kn">import</span> <span class="n">SlabAdsorptionSites</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.adsorbate_coverage</span> <span class="kn">import</span> <span class="n">SlabAdsorbateCoverage</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.overlayer</span> <span class="kn">import</span> <span class="n">random_coverage_pattern</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.action</span> <span class="kn">import</span> <span class="n">remove_adsorbates_from_sites</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.build</span> <span class="kn">import</span> <span class="n">fcc111</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">slab</span> <span class="o">=</span> <span class="n">fcc111</span><span class="p">(</span><span class="s1">&#39;Pt&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="mi">4</span><span class="p">,</span> <span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">slab</span><span class="o">.</span><span class="n">center</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">random_coverage_pattern</span><span class="p">(</span><span class="n">slab</span><span class="p">,</span> <span class="n">adsorbate_species</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;OH&#39;</span><span class="p">,</span><span class="s1">&#39;CO&#39;</span><span class="p">],</span>
<span class="gp">... </span>                                <span class="n">surface</span><span class="o">=</span><span class="s1">&#39;fcc111&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                <span class="n">min_adsorbate_distance</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sas</span> <span class="o">=</span> <span class="n">SlabAdsorptionSites</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">surface</span><span class="o">=</span><span class="s1">&#39;fcc111&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sac</span> <span class="o">=</span> <span class="n">SlabAdsorbateCoverage</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">sas</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">occupied_sites</span> <span class="o">=</span> <span class="n">sac</span><span class="o">.</span><span class="n">get_sites</span><span class="p">(</span><span class="n">occupied_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">CO_sites</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">occupied_sites</span> <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="s1">&#39;adsorbate&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;CO&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remove_adsorbates_from_sites</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">sites</span><span class="o">=</span><span class="n">CO_sites</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">atoms</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<a class="reference internal image-reference" href="_images/remove_adsorbates_from_sites.png"><img alt="_images/remove_adsorbates_from_sites.png" src="_images/remove_adsorbates_from_sites.png" style="width: 576.6px; height: 273.59999999999997px;" /></a>
</div></blockquote>
</div>
<div class="section" id="the-remove-adsorbates-too-close-function">
<h3>The remove_adsorbates_too_close function<a class="headerlink" href="#the-remove-adsorbates-too-close-function" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="py function">
<dt id="acat.build.action.remove_adsorbates_too_close">
<code class="sig-prename descclassname">acat.build.action.</code><code class="sig-name descname">remove_adsorbates_too_close</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">atoms</span></em>, <em class="sig-param"><span class="n">adsorbate_coverage</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">surface</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">min_adsorbate_distance</span><span class="o">=</span><span class="default_value">0.5</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/action.html#remove_adsorbates_too_close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.action.remove_adsorbates_too_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Find adsorbates that are too close, remove one set of them.
The function is intended to remove atoms that are unphysically
close. Please do not use a min_adsorbate_distace larger than 2.
The function is generalized for both periodic and non-periodic
systems (distinguished by atoms.pbc).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>ase.Atoms object</em>) – The nanoparticle or surface slab onto which the adsorbates are
added. Accept any ase.Atoms object. No need to be built-in.</p></li>
<li><p><strong>adsorbate_coverage</strong> (<em>acat.adsorbate_coverage.ClusterAdsorbateCoverage         object</em><em> or </em><em>acat.adsorbate_coverage.SlabAdsorbateCoverage object</em><em>,         </em><em>default None</em>) – The built-in adsorbate coverage class.</p></li>
<li><p><strong>surface</strong> (<em>str</em><em>, </em><em>default None</em>) – The surface type (crystal structure + Miller indices).
If the structure is a periodic surface slab, this is required.
If the structure is a nanoparticle, the function only add
adsorbates to the sites on the specified surface.</p></li>
<li><p><strong>min_adsorbate_distance</strong> (<em>float</em><em>, </em><em>default 0.</em>) – The minimum distance between two atoms that is not considered to
be to close. This distance has to be small.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p><strong>Example</strong></p>
<p>To remove unphysically close adsorbates on the edges of a Marks
decahedron with 0.75 ML ordered CO coverage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.overlayer</span> <span class="kn">import</span> <span class="n">ordered_coverage_pattern</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.action</span> <span class="kn">import</span> <span class="n">remove_adsorbates_too_close</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.cluster</span> <span class="kn">import</span> <span class="n">Decahedron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">Decahedron</span><span class="p">(</span><span class="s1">&#39;Pt&#39;</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">q</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="n">ordered_coverage_pattern</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">adsorbate</span><span class="o">=</span><span class="s1">&#39;CO&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                   <span class="n">coverage</span><span class="o">=</span><span class="mf">0.75</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">remove_adsorbates_too_close</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">min_adsorbate_distance</span><span class="o">=</span><span class="mf">1.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<img alt="_images/remove_adsorbates_too_close.png" src="_images/remove_adsorbates_too_close.png" />
</div></blockquote>
</div>
</div>
<div class="section" id="module-acat.build.overlayer">
<span id="generate-adsorbate-overlayer-patterns"></span><h2>Generate adsorbate overlayer patterns<a class="headerlink" href="#module-acat.build.overlayer" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-stochasticpatterngenerator-class">
<h3>The StochasticPatternGenerator class<a class="headerlink" href="#the-stochasticpatterngenerator-class" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="py class">
<dt id="acat.build.overlayer.StochasticPatternGenerator">
<em class="property">class </em><code class="sig-prename descclassname">acat.build.overlayer.</code><code class="sig-name descname">StochasticPatternGenerator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">images</span></em>, <em class="sig-param"><span class="n">adsorbate_species</span></em>, <em class="sig-param"><span class="n">image_probabilities</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">species_probabilities</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">min_adsorbate_distance</span><span class="o">=</span><span class="default_value">1.5</span></em>, <em class="sig-param"><span class="n">adsorption_sites</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">surface</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">heights</span><span class="o">=</span><span class="default_value">{'3fold': 1.3, '4fold': 1.3, '5fold': 1.5, '6fold': 0.0, 'bridge': 1.5, 'fcc': 1.3, 'hcp': 1.3, 'longbridge': 1.5, 'ontop': 1.8, 'shortbridge': 1.5}</span></em>, <em class="sig-param"><span class="n">allow_6fold</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">composition_effect</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">both_sides</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">dmax</span><span class="o">=</span><span class="default_value">3.0</span></em>, <em class="sig-param"><span class="n">species_forbidden_sites</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">species_forbidden_labels</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">fragmentation</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">trajectory</span><span class="o">=</span><span class="default_value">'patterns.traj'</span></em>, <em class="sig-param"><span class="n">append_trajectory</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">logfile</span><span class="o">=</span><span class="default_value">'patterns.log'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/overlayer.html#StochasticPatternGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.overlayer.StochasticPatternGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>StochasticPatternGenerator</cite> is a class for generating
adsorbate overlayer patterns stochastically. Graph isomorphism
is implemented to identify identical overlayer patterns.
4 adsorbate actions are supported: add, remove, move, replace.
The function is generalized for both periodic and non-periodic
systems (distinguished by atoms.pbc).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>images</strong> (<em>ase.Atoms object</em><em> or </em><em>list of ase.Atoms objects</em>) – The structure to perform the adsorbate actions on.
If a list of structures is provided, perform one
adsorbate action on one of the structures in each step.
Accept any ase.Atoms object. No need to be built-in.</p></li>
<li><p><strong>adsorbate_species</strong> (<em>str</em><em> or </em><em>list of strs</em>) – A list of adsorbate species to be randomly added to the surface.</p></li>
<li><p><strong>image_probabilities</strong> (<em>listt</em><em>, </em><em>default None</em>) – A list of the probabilities of selecting each structure.
Selecting structure with equal probability if not specified.</p></li>
<li><p><strong>species_probabilities</strong> (<em>dict</em><em>, </em><em>default None</em>) – A dictionary that contains keys of each adsorbate species and
values of their probabilities of adding onto the surface.
Adding adsorbate species with equal probability if not specified.</p></li>
<li><p><strong>min_adsorbate_distance</strong> (<em>float</em><em>, </em><em>default 1.5</em>) – The minimum distance constraint between two atoms that belongs
to two adsorbates.</p></li>
<li><p><strong>adsorption_sites</strong> (<em>acat.adsorption_sites.ClusterAdsorptionSites object</em><em>         or </em><em>acat.adsorption_sites.SlabAdsorptionSites object</em><em>, </em><em>default None</em>) – Provide the built-in adsorption sites class to accelerate the
pattern generation. Make sure all the structures have the same
periodicity and atom indexing. If composition_effect=True, you
should only provide adsorption_sites when the surface composition
is fixed.</p></li>
<li><p><strong>surface</strong> (<em>str</em><em>, </em><em>default None</em>) – The surface type (crystal structure + Miller indices).
Only required if the structure is a periodic surface slab.</p></li>
<li><p><strong>heights</strong> (<em>dict</em><em>, </em><em>default acat.settings.site_heights</em>) – A dictionary that contains the adsorbate height for each site
type. Use the default height settings if the height for a site
type is not specified.</p></li>
<li><p><strong>allow_6fold</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to allow the adsorption on 6-fold subsurf sites
underneath fcc hollow sites.</p></li>
<li><p><strong>composition_effect</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to consider sites with different elemental
compositions as different sites. It is recommended to
set composition_effect=False for monometallics.</p></li>
<li><p><strong>both_sides</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to add adsorbate to both top and bottom sides of the slab.
Only works if adsorption_sites is not provided, otherwise
consistent with what is specified in adsorption_sites. Only
relvevant for periodic surface slabs.</p></li>
<li><p><strong>dmax</strong> (<em>float</em><em>, </em><em>default 3.</em>) – The maximum bond length (in Angstrom) between the site and the
bonding atom  that should be considered as an adsorbate.</p></li>
<li><p><strong>species_forbidden_sites</strong> (<em>dict</em><em>, </em><em>default None</em>) – A dictionary that contains keys of each adsorbate species and
values of the site (can be one or multiple site types) that the
speices is not allowed to add to. All sites are availabe for a
species if not specified. Note that this does not differentiate
sites with different compositions.</p></li>
<li><p><strong>species_forbidden_labels</strong> (<em>dict</em><em>, </em><em>default None</em>) – Same as species_forbidden_sites except that the adsorption sites
are written as numerical labels according to acat.labels. Useful
when you need to differentiate sites with different compositions.</p></li>
<li><p><strong>fragmentation</strong> (<em>bool</em><em>, </em><em>default True</em>) – Whether to cut multidentate species into fragments. This ensures
that multidentate species with different orientations are
considered as different overlayer patterns.</p></li>
<li><p><strong>trajectory</strong> (<em>str</em><em>, </em><em>default 'patterns.traj'</em>) – The name of the output ase trajectory file.</p></li>
<li><p><strong>append_trajectory</strong> (<em>bool</em><em>, </em><em>default False</em>) – <p>Whether to append structures to the existing trajectory.
If only unique patterns are accepted, the code will also check
graph isomorphism for the existing structures in the trajectory.
This is also useful when you want to generate overlayer patterns
stochastically but for all images systematically, e.g. generating
10 stochastic overlayer patterns for each image:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.overlayer</span> <span class="kn">import</span> <span class="n">StochasticPatternGenerator</span> <span class="k">as</span> <span class="n">SPG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">atoms</span> <span class="ow">in</span> <span class="n">images</span><span class="p">:</span>
<span class="gp">... </span>   <span class="n">spg</span> <span class="o">=</span> <span class="n">SPG</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">append_trajectory</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">spg</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">num_gen</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</p></li>
<li><p><strong>logfile</strong> (<em>str</em><em>, </em><em>default 'patterns.log'</em>) – The name of the log file.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="acat.build.overlayer.StochasticPatternGenerator.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_gen</span></em>, <em class="sig-param"><span class="n">action</span><span class="o">=</span><span class="default_value">'add'</span></em>, <em class="sig-param"><span class="n">action_probabilities</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">num_act</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">add_species_composition</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">unique</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">site_preference</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">subsurf_effect</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/overlayer.html#StochasticPatternGenerator.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.overlayer.StochasticPatternGenerator.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the pattern generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_gen</strong> (<em>int</em>) – Number of patterns to generate.</p></li>
<li><p><strong>action</strong> (<em>str</em><em> or </em><em>list of strs</em><em>, </em><em>default 'add'</em>) – Action(s) to perform. If a list of actions is provided, select
actions from the list randomly or with probabilities.</p></li>
<li><p><strong>action_probabilities</strong> (<em>dict</em><em>, </em><em>default None</em>) – A dictionary that contains keys of each action and values of the
corresponding probabilities. Select actions with equal probability
if not specified.</p></li>
<li><p><strong>num_act</strong> (<em>int</em><em>, </em><em>default 1</em>) – Number of times performed for each action. Useful for operating
more than one adsorbates at a time. This becomes extremely slow
when adding many adsorbates to generate high coverage patterns.
The recommended ways to generate high coverage patterns are:
1) adding one adsorbate at a time from low to high coverage if
you want to control the exact number of adsorbates;
2) use <cite>acat.build.overlayer.random_coverage_pattern</cite> if you want
to control the minimum adsorbate distance. This is the fastest
way, but the number of adsorbates is not guaranteed to be fixed.</p></li>
<li><p><strong>add_species_composition</strong> (<em>dict</em><em>, </em><em>default None</em>) – A dictionary that contains keys of each adsorbate species and
values of the species composition to be added onto the surface.
Adding adsorbate species according to species_probabilities if
not specified. Please only use this if the action is ‘add’.</p></li>
<li><p><strong>unique</strong> (<em>bool</em><em>, </em><em>default True</em>) – Whether to discard duplicate patterns based on graph isomorphism.</p></li>
<li><p><strong>site_preference</strong> (<em>str of list of strs</em><em>, </em><em>defualt None</em>) – The site type(s) that has higher priority to attach adsorbates.</p></li>
<li><p><strong>subsurf_effect</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to take subsurface atoms into consideration when checking
uniqueness. Could be important for surfaces like fcc100.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<p><strong>Example1</strong></p>
<p>The following example illustrates how to generate 100 stochastic
adsorbate overlayer patterns with one more adsorbate chosen from
CO, OH, CH3 and CHO, based on 10 Pt fcc111 surface slabs with
random C and O coverages, where CH3 is forbidden to be added to
ontop and bridge sites:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.overlayer</span> <span class="kn">import</span> <span class="n">StochasticPatternGenerator</span> <span class="k">as</span> <span class="n">SPG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.overlayer</span> <span class="kn">import</span> <span class="n">random_coverage_pattern</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.build</span> <span class="kn">import</span> <span class="n">fcc111</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.io</span> <span class="kn">import</span> <span class="n">read</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">slab</span> <span class="o">=</span> <span class="n">fcc111</span><span class="p">(</span><span class="s1">&#39;Pt&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="mi">4</span><span class="p">,</span> <span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">slab</span><span class="o">.</span><span class="n">center</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">atoms</span> <span class="o">=</span> <span class="n">slab</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="gp">... </span>    <span class="n">image</span> <span class="o">=</span> <span class="n">random_coverage_pattern</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">adsorbate_species</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;O&#39;</span><span class="p">],</span>
<span class="gp">... </span>                                    <span class="n">surface</span><span class="o">=</span><span class="s1">&#39;fcc111&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                    <span class="n">min_adsorbate_distance</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spg</span> <span class="o">=</span> <span class="n">SPG</span><span class="p">(</span><span class="n">images</span><span class="p">,</span> <span class="n">adsorbate_species</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CO&#39;</span><span class="p">,</span><span class="s1">&#39;OH&#39;</span><span class="p">,</span><span class="s1">&#39;CH3&#39;</span><span class="p">,</span><span class="s1">&#39;CHO&#39;</span><span class="p">],</span>
<span class="gp">... </span>          <span class="n">species_probabilities</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;CO&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;OH&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
<span class="gp">... </span>                                 <span class="s1">&#39;CH3&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;CHO&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">},</span>
<span class="gp">... </span>          <span class="n">min_adsorbate_distance</span><span class="o">=</span><span class="mf">1.5</span><span class="p">,</span>
<span class="gp">... </span>          <span class="n">surface</span><span class="o">=</span><span class="s1">&#39;fcc111&#39;</span><span class="p">,</span>
<span class="gp">... </span>          <span class="n">composition_effect</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
<span class="gp">... </span>          <span class="n">species_forbidden_sites</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;CH3&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ontop&#39;</span><span class="p">,</span><span class="s1">&#39;bridge&#39;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spg</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">num_gen</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;add&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="s1">&#39;patterns.traj&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">images</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<a class="reference internal image-reference" href="_images/StochasticPatternGenerator1.gif"><img alt="_images/StochasticPatternGenerator1.gif" class="align-center" src="_images/StochasticPatternGenerator1.gif" style="width: 300.0px; height: 193.79999999999998px;" /></a>
<p><strong>Example2</strong></p>
<p>The following example illustrates how to generate 20 unique coverage
patterns, each adding 4 adsorbates (randomly chosen from H, OH and
H2O) onto a fcc100 Ni2Cu surface slab on both top and bottom
interfaces (<a class="reference download internal" download="" href="_downloads/d4db2def8832c660c65d58623887badd/water_bulk.xyz"><code class="xref download docutils literal notranslate"><span class="pre">bulk</span> <span class="pre">water</span></code></a> in
between) with probabilities of 0.25, 0.25, 0.5, respectively, and a
minimum adsorbate distance of 2.5 Angstrom:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.overlayer</span> <span class="kn">import</span> <span class="n">StochasticPatternGenerator</span> <span class="k">as</span> <span class="n">SPG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.adsorption_sites</span> <span class="kn">import</span> <span class="n">SlabAdsorptionSites</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.io</span> <span class="kn">import</span> <span class="n">read</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.build</span> <span class="kn">import</span> <span class="n">fcc100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">water_bulk</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="s1">&#39;water_bulk.xyz&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">water_bulk</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="n">vacuum</span><span class="o">=</span><span class="mf">11.</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">slab</span> <span class="o">=</span> <span class="n">fcc100</span><span class="p">(</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">vacuum</span><span class="o">=</span><span class="mf">9.5</span><span class="p">,</span> <span class="n">periodic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">atom</span> <span class="ow">in</span> <span class="n">slab</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">atom</span><span class="o">.</span><span class="n">index</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">atom</span><span class="o">.</span><span class="n">symbol</span> <span class="o">=</span> <span class="s1">&#39;Cu&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">slab</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="o">-</span><span class="n">slab</span><span class="o">.</span><span class="n">cell</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">slab</span><span class="o">.</span><span class="n">wrap</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">slab</span> <span class="o">+</span> <span class="n">water_bulk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sas</span> <span class="o">=</span> <span class="n">SlabAdsorptionSites</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">surface</span><span class="o">=</span><span class="s1">&#39;fcc100&#39;</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="n">composition_effect</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="n">both_sides</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spg</span> <span class="o">=</span> <span class="n">SPG</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">adsorbate_species</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;H&#39;</span><span class="p">,</span><span class="s1">&#39;OH&#39;</span><span class="p">,</span><span class="s1">&#39;OH2&#39;</span><span class="p">],</span>
<span class="gp">... </span>          <span class="n">species_probabilities</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span> <span class="s1">&#39;OH&#39;</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span> <span class="s1">&#39;OH2&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},</span>
<span class="gp">... </span>          <span class="n">min_adsorbate_distance</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span>
<span class="gp">... </span>          <span class="n">adsorption_sites</span><span class="o">=</span><span class="n">sas</span><span class="p">,</span>
<span class="gp">... </span>          <span class="n">surface</span><span class="o">=</span><span class="s1">&#39;fcc100&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spg</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">num_gen</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="n">num_act</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="s1">&#39;patterns.traj&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">images</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<a class="reference internal image-reference" href="_images/StochasticPatternGenerator2.gif"><img alt="_images/StochasticPatternGenerator2.gif" class="align-center" src="_images/StochasticPatternGenerator2.gif" style="width: 288.0px; height: 384.0px;" /></a>
<p><strong>Example3</strong></p>
<p>The following example illustrates how to generate 20 stochastic
adsorbate overlayer patterns with 5 adsorbates: 1 CO, 2 OH and
2 N, on 10 quaternary cuboctahedral nanoalloys with random
chemical orderings. The minimum adsorbate distance is set to 3
Angstrom and duplicate patterns are allowed (very unlikely for
nanoparticles):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.adsorption_sites</span> <span class="kn">import</span> <span class="n">ClusterAdsorptionSites</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.overlayer</span> <span class="kn">import</span> <span class="n">StochasticPatternGenerator</span> <span class="k">as</span> <span class="n">SPG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.ordering</span> <span class="kn">import</span> <span class="n">RandomOrderingGenerator</span> <span class="k">as</span> <span class="n">ROG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.cluster</span> <span class="kn">import</span> <span class="n">Octahedron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.io</span> <span class="kn">import</span> <span class="n">read</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">Octahedron</span><span class="p">(</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">cutoff</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rog</span> <span class="o">=</span> <span class="n">ROG</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="s1">&#39;Cu&#39;</span><span class="p">,</span> <span class="s1">&#39;Pt&#39;</span><span class="p">,</span> <span class="s1">&#39;Au&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rog</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">num_gen</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">particles</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="s1">&#39;orderings.traj&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spg</span> <span class="o">=</span> <span class="n">SPG</span><span class="p">(</span><span class="n">particles</span><span class="p">,</span> <span class="n">adsorbate_species</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;CO&#39;</span><span class="p">,</span><span class="s1">&#39;OH&#39;</span><span class="p">,</span><span class="s1">&#39;N&#39;</span><span class="p">],</span>
<span class="gp">... </span>          <span class="n">min_adsorbate_distance</span><span class="o">=</span><span class="mf">3.</span><span class="p">,</span>
<span class="gp">... </span>          <span class="n">composition_effect</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spg</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">num_gen</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="n">num_act</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">add_species_composition</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;CO&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;OH&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
<span class="gp">... </span>        <span class="n">unique</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="s1">&#39;patterns.traj&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">images</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<img alt="_images/StochasticPatternGenerator3.gif" src="_images/StochasticPatternGenerator3.gif" />
</div></blockquote>
</div>
<div class="section" id="the-systematicpatterngenerator-class">
<h3>The SystematicPatternGenerator class<a class="headerlink" href="#the-systematicpatterngenerator-class" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="py class">
<dt id="acat.build.overlayer.SystematicPatternGenerator">
<em class="property">class </em><code class="sig-prename descclassname">acat.build.overlayer.</code><code class="sig-name descname">SystematicPatternGenerator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">images</span></em>, <em class="sig-param"><span class="n">adsorbate_species</span></em>, <em class="sig-param"><span class="n">min_adsorbate_distance</span><span class="o">=</span><span class="default_value">1.5</span></em>, <em class="sig-param"><span class="n">adsorption_sites</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">surface</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">heights</span><span class="o">=</span><span class="default_value">{'3fold': 1.3, '4fold': 1.3, '5fold': 1.5, '6fold': 0.0, 'bridge': 1.5, 'fcc': 1.3, 'hcp': 1.3, 'longbridge': 1.5, 'ontop': 1.8, 'shortbridge': 1.5}</span></em>, <em class="sig-param"><span class="n">allow_6fold</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">composition_effect</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">both_sides</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">dmax</span><span class="o">=</span><span class="default_value">3.0</span></em>, <em class="sig-param"><span class="n">species_forbidden_sites</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">species_forbidden_labels</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">enumerate_orientations</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">trajectory</span><span class="o">=</span><span class="default_value">'patterns.traj'</span></em>, <em class="sig-param"><span class="n">append_trajectory</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">logfile</span><span class="o">=</span><span class="default_value">'patterns.log'</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/overlayer.html#SystematicPatternGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.overlayer.SystematicPatternGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>SystematicPatternGenerator</cite> is a class for generating
adsorbate overlayer patterns systematically. This is useful to
enumerate all unique patterns at low coverage, but explodes at
higher coverages. Graph isomorphism is implemented to identify
identical overlayer patterns. 4 adsorbate actions are supported:
add, remove, move, replace. The function is generalized for both
periodic and non-periodic systems (distinguished by atoms.pbc).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>images</strong> (<em>ase.Atoms object</em><em> or </em><em>list of ase.Atoms objects</em>) – The structure to perform the adsorbate actions on.
If a list of structures is provided, perform one
adsorbate action on one of the structures in each step.
Accept any ase.Atoms object. No need to be built-in.</p></li>
<li><p><strong>adsorbate_species</strong> (<em>str</em><em> or </em><em>list of strs</em>) – A list of adsorbate species to be randomly added to the surface.</p></li>
<li><p><strong>min_adsorbate_distance</strong> (<em>float</em><em>, </em><em>default 1.5</em>) – The minimum distance constraint between two atoms that belongs
to two adsorbates.</p></li>
<li><p><strong>adsorption_sites</strong> (<em>acat.adsorption_sites.ClusterAdsorptionSites object</em><em>         or </em><em>acat.adsorption_sites.SlabAdsorptionSites object</em><em>, </em><em>default None</em>) – Provide the built-in adsorption sites class to accelerate the
pattern generation. Make sure all the structures have the same
periodicity and atom indexing. If composition_effect=True, you
should only provide adsorption_sites when the surface composition
is fixed.</p></li>
<li><p><strong>surface</strong> (<em>str</em><em>, </em><em>default None</em>) – The surface type (crystal structure + Miller indices).
Only required if the structure is a periodic surface slab.</p></li>
<li><p><strong>heights</strong> (<em>dict</em><em>, </em><em>default acat.settings.site_heights</em>) – A dictionary that contains the adsorbate height for each site
type. Use the default height settings if the height for a site
type is not specified.</p></li>
<li><p><strong>allow_6fold</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to allow the adsorption on 6-fold subsurf sites
underneath fcc hollow sites.</p></li>
<li><p><strong>composition_effect</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to consider sites with different elemental
compositions as different sites. It is recommended to
set composition_effect=False for monometallics.</p></li>
<li><p><strong>both_sides</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to add adsorbate to both top and bottom sides of the slab.
Only works if adsorption_sites is not provided, otherwise
consistent with what is specified in adsorption_sites. Only
relevant for periodic surface slabs.</p></li>
<li><p><strong>dmax</strong> (<em>float</em><em>, </em><em>default 3.</em>) – The maximum bond length (in Angstrom) between the site and the
bonding atom  that should be considered as an adsorbate.</p></li>
<li><p><strong>species_forbidden_sites</strong> (<em>dict</em><em>, </em><em>default None</em>) – A dictionary that contains keys of each adsorbate species and
values of the site (can be one or multiple site types) that the
speices is not allowed to add to. All sites are availabe for a
species if not specified. Note that this does not differentiate
sites with different compositions.</p></li>
<li><p><strong>species_forbidden_labels</strong> (<em>dict</em><em>, </em><em>default None</em>) – Same as species_forbidden_sites except that the adsorption sites
are written as numerical labels according to acat.labels. Useful
when you need to differentiate sites with different compositions.</p></li>
<li><p><strong>enumerate_orientations</strong> (<em>bool</em><em>, </em><em>default True</em>) – Whether to enumerate all orientations of multidentate species.
This ensures that multidentate species with different orientations
are all enumerated.</p></li>
<li><p><strong>trajectory</strong> (<em>str</em><em>, </em><em>default 'patterns.traj'</em>) – The name of the output ase trajectory file.</p></li>
<li><p><strong>append_trajectory</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to append structures to the existing trajectory.
If only unique patterns are accepted, the code will also check
graph isomorphism for the existing structures in the trajectory.</p></li>
<li><p><strong>logfile</strong> (<em>str</em><em>, </em><em>default 'patterns.log'</em>) – The name of the log file.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="acat.build.overlayer.SystematicPatternGenerator.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_gen_per_image</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">action</span><span class="o">=</span><span class="default_value">'add'</span></em>, <em class="sig-param"><span class="n">num_act</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">add_species_composition</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">unique</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">site_preference</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">subsurf_effect</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/overlayer.html#SystematicPatternGenerator.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.overlayer.SystematicPatternGenerator.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the pattern generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_gen_per_image</strong> (<em>int</em><em>, </em><em>default None</em>) – Maximum number of patterns to generate for each image. Enumerate
all possible patterns if not specified.</p></li>
<li><p><strong>action</strong> (<em>str</em><em>, </em><em>defualt 'add'</em>) – Action to perform.</p></li>
<li><p><strong>num_act</strong> (<em>int</em><em>, </em><em>default 1</em>) – Number of times performed for the action. Useful for operating
more than one adsorbates at a time. This becomes extremely slow
when adding many adsorbates to generate high coverage patterns.
The recommended way to generate high coverage patterns is to add
one adsorbate at a time from low to high coverage if you want to
control the exact number of adsorbates.</p></li>
<li><p><strong>add_species_composition</strong> (<em>dict</em><em>, </em><em>default None</em>) – A dictionary that contains keys of each adsorbate species and
values of the species composition to be added onto the surface.
Adding all possible adsorbate species if not specified. Please
only use this if the action is ‘add’.</p></li>
<li><p><strong>unique</strong> (<em>bool</em><em>, </em><em>default True</em>) – Whether to discard duplicate patterns based on graph isomorphism.</p></li>
<li><p><strong>site_preference</strong> (<em>str of list of strs</em><em>, </em><em>defualt None</em>) – The site type(s) that has higher priority to attach adsorbates.</p></li>
<li><p><strong>subsurf_effect</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to take subsurface atoms into consideration when checking
uniqueness. Could be important for surfaces like fcc100.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<p><strong>Example1</strong></p>
<p>The following example illustrates how to add CO to all unique sites on
a cuboctahedral bimetallic nanoparticle with a minimum adsorbate
distance of 2 Angstrom:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.adsorption_sites</span> <span class="kn">import</span> <span class="n">ClusterAdsorptionSites</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.overlayer</span> <span class="kn">import</span> <span class="n">SystematicPatternGenerator</span> <span class="k">as</span> <span class="n">SPG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.cluster</span> <span class="kn">import</span> <span class="n">Octahedron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.io</span> <span class="kn">import</span> <span class="n">read</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">Octahedron</span><span class="p">(</span><span class="s1">&#39;Cu&#39;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">cutoff</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">atom</span> <span class="ow">in</span> <span class="n">atoms</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">atom</span><span class="o">.</span><span class="n">index</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">atom</span><span class="o">.</span><span class="n">symbol</span> <span class="o">=</span> <span class="s1">&#39;Au&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cas</span> <span class="o">=</span> <span class="n">ClusterAdsorptionSites</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">composition_effect</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spg</span> <span class="o">=</span> <span class="n">SPG</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">adsorbate_species</span><span class="o">=</span><span class="s1">&#39;CO&#39;</span><span class="p">,</span>
<span class="gp">... </span>          <span class="n">min_adsorbate_distance</span><span class="o">=</span><span class="mf">2.</span><span class="p">,</span>
<span class="gp">... </span>          <span class="n">adsorption_sites</span><span class="o">=</span><span class="n">cas</span><span class="p">,</span>
<span class="gp">... </span>          <span class="n">composition_effect</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spg</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="s1">&#39;add&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="s1">&#39;patterns.traj&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">images</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<img alt="_images/SystematicPatternGenerator1.gif" src="_images/SystematicPatternGenerator1.gif" />
<p><strong>Example2</strong></p>
<p>The following example illustrates how to enumerate all unique coverage
patterns consists of 3 adsorbates: 1 C, 1 N and 1 O on a bimetallic
bcc111 surface slab with a minimum adsorbate distance of 2 Angstrom
(here only generate a maximum of 100 unique patterns):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.overlayer</span> <span class="kn">import</span> <span class="n">SystematicPatternGenerator</span> <span class="k">as</span> <span class="n">SPG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.adsorption_sites</span> <span class="kn">import</span> <span class="n">SlabAdsorptionSites</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.io</span> <span class="kn">import</span> <span class="n">read</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.build</span> <span class="kn">import</span> <span class="n">bcc111</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">bcc111</span><span class="p">(</span><span class="s1">&#39;Fe&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">atom</span> <span class="ow">in</span> <span class="n">atoms</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">atom</span><span class="o">.</span><span class="n">index</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">atom</span><span class="o">.</span><span class="n">symbol</span> <span class="o">=</span> <span class="s1">&#39;Mo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span><span class="o">.</span><span class="n">center</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sas</span> <span class="o">=</span> <span class="n">SlabAdsorptionSites</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">surface</span><span class="o">=</span><span class="s1">&#39;bcc111&#39;</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="n">composition_effect</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spg</span> <span class="o">=</span> <span class="n">SPG</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">adsorbate_species</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;N&#39;</span><span class="p">,</span><span class="s1">&#39;O&#39;</span><span class="p">],</span>
<span class="gp">... </span>          <span class="n">min_adsorbate_distance</span><span class="o">=</span><span class="mf">2.</span><span class="p">,</span>
<span class="gp">... </span>          <span class="n">adsorption_sites</span><span class="o">=</span><span class="n">sas</span><span class="p">,</span>
<span class="gp">... </span>          <span class="n">surface</span><span class="o">=</span><span class="s1">&#39;bcc111&#39;</span><span class="p">,</span>
<span class="gp">... </span>          <span class="n">composition_effect</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spg</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">max_gen_per_image</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;add&#39;</span><span class="p">,</span> <span class="n">num_act</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">add_species_composition</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;N&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="s1">&#39;patterns.traj&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">images</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<a class="reference internal image-reference" href="_images/SystematicPatternGenerator2.gif"><img alt="_images/SystematicPatternGenerator2.gif" class="align-center" src="_images/SystematicPatternGenerator2.gif" style="width: 256.0px; height: 192.0px;" /></a>
</div></blockquote>
</div>
<div class="section" id="the-ordered-coverage-pattern-function">
<h3>The ordered_coverage_pattern function<a class="headerlink" href="#the-ordered-coverage-pattern-function" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="py function">
<dt id="acat.build.overlayer.ordered_coverage_pattern">
<code class="sig-prename descclassname">acat.build.overlayer.</code><code class="sig-name descname">ordered_coverage_pattern</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">atoms</span></em>, <em class="sig-param"><span class="n">adsorbate_species</span></em>, <em class="sig-param"><span class="n">coverage</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">species_probabilities</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">surface</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">height</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">min_adsorbate_distance</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">both_sides</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/overlayer.html#ordered_coverage_pattern"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.overlayer.ordered_coverage_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p>A function for generating representative ordered adsorbate
overlayer patterns. The function is generalized for both periodic
and non-periodic systems (distinguished by atoms.pbc).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>ase.Atoms object</em>) – The nanoparticle or surface slab onto which the adsorbates are
added. Accept any ase.Atoms object. No need to be built-in.</p></li>
<li><p><strong>adsorbate_species</strong> (<em>str</em><em> or </em><em>list of strs</em>) – A list of adsorbate species to be added to the surface.</p></li>
<li><p><strong>coverage</strong> (<em>float</em><em>, </em><em>default 1.</em>) – The coverage (ML) of the adsorbate (N_adsorbate / N_surf_atoms).
Support 4 overlayer patterns (
0.25 for p(2x2) pattern;
0.5 for c(2x2) pattern on fcc100 or honeycomb pattern on fcc111;
0.75 for (2x2) pattern on fcc100 or Kagome pattern on fcc111;
1. for p(1x1) pattern;
2. for ontop+4fold pattern on fcc100 or fcc+hcp pattern on fcc111.
Note that for small nanoparticles, the function might give
results that do not correspond to the coverage. This is normal
since the surface area can be too small to encompass the
overlayer pattern properly. We expect this function to work
well on large nanoparticles and surface slabs.</p></li>
<li><p><strong>species_probabilities</strong> (<em>dict</em><em>, </em><em>default None</em>) – A dictionary that contains keys of each adsorbate species and
values of their probabilities of adding onto the surface.</p></li>
<li><p><strong>surface</strong> (<em>str</em><em>, </em><em>default None</em>) – The surface type (crystal structure + Miller indices).
For now only support 2 common surfaces: fcc100 and fcc111.
If the structure is a periodic surface slab, this is required.
If the structure is a nanoparticle, the function only add
adsorbates to the sites on the specified surface.</p></li>
<li><p><strong>height</strong> (<em>float</em><em>, </em><em>default None</em>) – The height of the added adsorbate from the surface.
Use the default settings if not specified.</p></li>
<li><p><strong>min_adsorbate_distance</strong> (<em>float</em><em>, </em><em>default 0.</em>) – The minimum distance between two atoms that belongs to two
adsorbates.</p></li>
<li><p><strong>both_sides</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to add adsorbate to both top and bottom sides of the slab.
Only relvevant for periodic surface slabs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p><strong>Example1</strong></p>
<p>To add a 0.5 ML CO overlayer pattern on a cuboctahedron:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.overlayer</span> <span class="kn">import</span> <span class="n">ordered_coverage_pattern</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.cluster</span> <span class="kn">import</span> <span class="n">Octahedron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">Octahedron</span><span class="p">(</span><span class="s1">&#39;Au&#39;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">cutoff</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="n">ordered_coverage_pattern</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">adsorbate_species</span><span class="o">=</span><span class="s1">&#39;CO&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                   <span class="n">coverage</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<img alt="_images/ordered_coverage_pattern_1.png" src="_images/ordered_coverage_pattern_1.png" />
<p><strong>Example2</strong></p>
<p>To add a 0.5 ML CO overlayer pattern on a fcc111 surface slab:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.overlayer</span> <span class="kn">import</span> <span class="n">ordered_coverage_pattern</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.build</span> <span class="kn">import</span> <span class="n">fcc111</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">fcc111</span><span class="p">(</span><span class="s1">&#39;Cu&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span><span class="o">.</span><span class="n">center</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="n">ordered_coverage_pattern</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">adsorbate_species</span><span class="o">=</span><span class="s1">&#39;CO&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                   <span class="n">coverage</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">surface</span><span class="o">=</span><span class="s1">&#39;fcc111&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<img alt="_images/ordered_coverage_pattern_2.png" src="_images/ordered_coverage_pattern_2.png" />
</div></blockquote>
</div>
<div class="section" id="the-full-coverage-pattern-function">
<h3>The full_coverage_pattern function<a class="headerlink" href="#the-full-coverage-pattern-function" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="py function">
<dt id="acat.build.overlayer.full_coverage_pattern">
<code class="sig-prename descclassname">acat.build.overlayer.</code><code class="sig-name descname">full_coverage_pattern</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">atoms</span></em>, <em class="sig-param"><span class="n">adsorbate_species</span></em>, <em class="sig-param"><span class="n">site</span></em>, <em class="sig-param"><span class="n">species_probabilities</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">surface</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">height</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">min_adsorbate_distance</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">both_sides</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/overlayer.html#full_coverage_pattern"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.overlayer.full_coverage_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p>A function for generating adsorbate overlayer patterns on sites
that are of a same type. The function is generalized for both
periodic and non-periodic systems (distinguished by atoms.pbc).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>ase.Atoms object</em>) – The nanoparticle or surface slab onto which the adsorbates are
added. Accept any ase.Atoms object. No need to be built-in.</p></li>
<li><p><strong>adsorbate_species</strong> (<em>str</em><em> or </em><em>list of strs</em>) – A list of adsorbate species to be added to the surface.</p></li>
<li><p><strong>site</strong> (<em>str</em>) – The site type that the adsorbates should be added to.</p></li>
<li><p><strong>species_probabilities</strong> (<em>dict</em><em>, </em><em>default None</em>) – A dictionary that contains keys of each adsorbate species and
values of their probabilities of adding onto the surface.</p></li>
<li><p><strong>surface</strong> (<em>str</em><em>, </em><em>default None</em>) – The surface type (crystal structure + Miller indices).
If the structure is a periodic surface slab, this is required.
If the structure is a nanoparticle, the function only add
adsorbates to the sites on the specified surface.</p></li>
<li><p><strong>height</strong> (<em>float</em><em>, </em><em>default None</em>) – The height of the added adsorbate from the surface.
Use the default settings if not specified.</p></li>
<li><p><strong>min_adsorbate_distance</strong> (<em>float</em><em>, </em><em>default 0.</em>) – The minimum distance between two atoms that belongs to two
adsorbates.</p></li>
<li><p><strong>both_sides</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to add adsorbate to both top and bottom sides of the slab.
Only relvevant for periodic surface slabs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p><strong>Example1</strong></p>
<p>To add CO to all hcp sites on a icosahedron:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.overlayer</span> <span class="kn">import</span> <span class="n">full_coverage_pattern</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.cluster</span> <span class="kn">import</span> <span class="n">Icosahedron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">Icosahedron</span><span class="p">(</span><span class="s1">&#39;Au&#39;</span><span class="p">,</span> <span class="n">noshells</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="n">full_coverage_pattern</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">adsorbate_species</span><span class="o">=</span><span class="s1">&#39;CO&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                <span class="n">site</span><span class="o">=</span><span class="s1">&#39;hcp&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<img alt="_images/full_coverage_pattern_1.png" src="_images/full_coverage_pattern_1.png" />
<p><strong>Example2</strong></p>
<p>To add CO to all 3fold sites on a bcc110 surface slab:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.overlayer</span> <span class="kn">import</span> <span class="n">full_coverage_pattern</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.build</span> <span class="kn">import</span> <span class="n">bcc110</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">bcc110</span><span class="p">(</span><span class="s1">&#39;Mo&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span><span class="o">.</span><span class="n">center</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="n">full_coverage_pattern</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">adsorbate_species</span><span class="o">=</span><span class="s1">&#39;CO&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                <span class="n">surface</span><span class="o">=</span><span class="s1">&#39;bcc110&#39;</span><span class="p">,</span> <span class="n">site</span><span class="o">=</span><span class="s1">&#39;3fold&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<img alt="_images/full_coverage_pattern_2.png" src="_images/full_coverage_pattern_2.png" />
</div></blockquote>
</div>
<div class="section" id="the-random-coverage-pattern-function">
<h3>The random_coverage_pattern function<a class="headerlink" href="#the-random-coverage-pattern-function" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="py function">
<dt id="acat.build.overlayer.random_coverage_pattern">
<code class="sig-prename descclassname">acat.build.overlayer.</code><code class="sig-name descname">random_coverage_pattern</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">atoms</span></em>, <em class="sig-param"><span class="n">adsorbate_species</span></em>, <em class="sig-param"><span class="n">species_probabilities</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">surface</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">min_adsorbate_distance</span><span class="o">=</span><span class="default_value">1.5</span></em>, <em class="sig-param"><span class="n">heights</span><span class="o">=</span><span class="default_value">{'3fold': 1.3, '4fold': 1.3, '5fold': 1.5, '6fold': 0.0, 'bridge': 1.5, 'fcc': 1.3, 'hcp': 1.3, 'longbridge': 1.5, 'ontop': 1.8, 'shortbridge': 1.5}</span></em>, <em class="sig-param"><span class="n">allow_6fold</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">site_preference</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">both_sides</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/overlayer.html#random_coverage_pattern"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.overlayer.random_coverage_pattern" title="Permalink to this definition">¶</a></dt>
<dd><p>A function for generating random overlayer patterns with a
minimum distance constraint. The function is generalized for both
periodic and non-periodic systems (distinguished by atoms.pbc).
Especially useful for generating high coverage patterns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>ase.Atoms object</em>) – The nanoparticle or surface slab onto which the adsorbates are
added. Accept any ase.Atoms object. No need to be built-in.</p></li>
<li><p><strong>adsorbate_species</strong> (<em>str</em><em> or </em><em>list of strs</em>) – A list of adsorbate species to be randomly added to the surface.</p></li>
<li><p><strong>species_probabilities</strong> (<em>dict</em><em>, </em><em>default None</em>) – A dictionary that contains keys of each adsorbate species and
values of their probabilities of adding onto the surface.</p></li>
<li><p><strong>surface</strong> (<em>str</em><em>, </em><em>default None</em>) – The surface type (crystal structure + Miller indices).
If the structure is a periodic surface slab, this is required.
If the structure is a nanoparticle, the function only add
adsorbates to the sites on the specified surface.</p></li>
<li><p><strong>heights</strong> (<em>dict</em><em>, </em><em>default acat.settings.site_heights</em>) – A dictionary that contains the adsorbate height for each site
type. Use the default height settings if the height for a site
type is not specified.</p></li>
<li><p><strong>min_adsorbate_distance</strong> (<em>float</em><em>, </em><em>default 1.5</em>) – The minimum distance constraint between two atoms that belongs
to two adsorbates.</p></li>
<li><p><strong>allow_6fold</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to allow the adsorption on 6-fold subsurf sites
underneath fcc hollow sites.</p></li>
<li><p><strong>site_preference</strong> (<em>str of list of strs</em><em>, </em><em>defualt None</em>) – The site type(s) that has higher priority to attach adsorbates.</p></li>
<li><p><strong>both_sides</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to add adsorbate to both top and bottom sides of the slab.
Only relvevant for periodic surface slabs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p><strong>Example1</strong></p>
<p>To add CO randomly onto a cuboctahedron with a minimum adsorbate
distance of 5 Angstrom:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.overlayer</span> <span class="kn">import</span> <span class="n">random_coverage_pattern</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.cluster</span> <span class="kn">import</span> <span class="n">Octahedron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">Octahedron</span><span class="p">(</span><span class="s1">&#39;Au&#39;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">cutoff</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="n">random_coverage_pattern</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">adsorbate_species</span><span class="o">=</span><span class="s1">&#39;CO&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">min_adsorbate_distance</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<img alt="_images/random_coverage_pattern_1.png" src="_images/random_coverage_pattern_1.png" />
<p><strong>Example2</strong></p>
<p>To add C, N, O randomly onto a hcp0001 surface slab with probabilities
of 0.25, 0.25, 0.5, respectively, and a minimum adsorbate distance of
2 Angstrom:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.overlayer</span> <span class="kn">import</span> <span class="n">random_coverage_pattern</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.build</span> <span class="kn">import</span> <span class="n">hcp0001</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">hcp0001</span><span class="p">(</span><span class="s1">&#39;Ru&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span><span class="o">.</span><span class="n">center</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="n">random_coverage_pattern</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">adsorbate_species</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="s1">&#39;N&#39;</span><span class="p">,</span><span class="s1">&#39;O&#39;</span><span class="p">],</span>
<span class="gp">... </span>                                  <span class="n">species_probabilities</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span>
<span class="gp">... </span>                                                         <span class="s1">&#39;N&#39;</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span>
<span class="gp">... </span>                                                         <span class="s1">&#39;O&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},</span>
<span class="gp">... </span>                                  <span class="n">surface</span><span class="o">=</span><span class="s1">&#39;hcp0001&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">min_adsorbate_distance</span><span class="o">=</span><span class="mf">2.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<img alt="_images/random_coverage_pattern_2.png" src="_images/random_coverage_pattern_2.png" />
<p><strong>Example3</strong></p>
<p>To add H, OH and H2O randomly onto a fcc100 Ni2Cu surface slab on both top
and bottom interfaces ( <a class="reference download internal" download="" href="_downloads/d4db2def8832c660c65d58623887badd/water_bulk.xyz"><code class="xref download docutils literal notranslate"><span class="pre">bulk</span> <span class="pre">water</span></code></a>
in between) with probabilities of 0.25, 0.25, 0.5, respectively, and a
minimum adsorbate distance of 2 Angstrom:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.overlayer</span> <span class="kn">import</span> <span class="n">random_coverage_pattern</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.io</span> <span class="kn">import</span> <span class="n">read</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.build</span> <span class="kn">import</span> <span class="n">fcc100</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">water_bulk</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="s1">&#39;water_bulk.xyz&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">water_bulk</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="n">vacuum</span><span class="o">=</span><span class="mf">11.</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">slab</span> <span class="o">=</span> <span class="n">fcc100</span><span class="p">(</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">vacuum</span><span class="o">=</span><span class="mf">9.5</span><span class="p">,</span> <span class="n">periodic</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">atom</span> <span class="ow">in</span> <span class="n">slab</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">atom</span><span class="o">.</span><span class="n">index</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">atom</span><span class="o">.</span><span class="n">symbol</span> <span class="o">=</span> <span class="s1">&#39;Cu&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">slab</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="o">-</span><span class="n">slab</span><span class="o">.</span><span class="n">cell</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">slab</span><span class="o">.</span><span class="n">wrap</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">slab</span> <span class="o">+</span> <span class="n">water_bulk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pattern</span> <span class="o">=</span> <span class="n">random_coverage_pattern</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">adsorbate_species</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;H&#39;</span><span class="p">,</span><span class="s1">&#39;OH&#39;</span><span class="p">,</span><span class="s1">&#39;OH2&#39;</span><span class="p">],</span>
<span class="gp">... </span>                                  <span class="n">species_probabilities</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;H&#39;</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span>
<span class="gp">... </span>                                                         <span class="s1">&#39;OH&#39;</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span>
<span class="gp">... </span>                                                         <span class="s1">&#39;OH2&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">},</span>
<span class="gp">... </span>                                  <span class="n">surface</span><span class="o">=</span><span class="s1">&#39;fcc100&#39;</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">min_adsorbate_distance</span><span class="o">=</span><span class="mf">2.</span><span class="p">,</span>
<span class="gp">... </span>                                  <span class="n">both_sides</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">pattern</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<img alt="_images/random_coverage_pattern_3.png" src="_images/random_coverage_pattern_3.png" />
</div></blockquote>
</div>
</div>
<div class="section" id="module-acat.build.ordering">
<span id="generate-alloy-chemical-orderings"></span><h2>Generate alloy chemical orderings<a class="headerlink" href="#module-acat.build.ordering" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="acat.build.ordering.OrderedSlabOrderingGenerator">
<em class="property">class </em><code class="sig-prename descclassname">acat.build.ordering.</code><code class="sig-name descname">OrderedSlabOrderingGenerator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">atoms</span></em>, <em class="sig-param"><span class="n">elements</span></em>, <em class="sig-param"><span class="n">repeating_size</span><span class="o">=</span><span class="default_value">2, 2</span></em>, <em class="sig-param"><span class="n">composition</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dtol</span><span class="o">=</span><span class="default_value">0.01</span></em>, <em class="sig-param"><span class="n">ztol</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">trajectory</span><span class="o">=</span><span class="default_value">'orderings.traj'</span></em>, <em class="sig-param"><span class="n">append_trajectory</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/ordering.html#OrderedSlabOrderingGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.ordering.OrderedSlabOrderingGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p><cite>OrderedSlabOrderingGenerator</cite> is a class for generating
ordered chemical orderings for a <strong>alloy surface slab</strong>.
There is no limitation of the number of metal components.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>ase.Atoms object</em>) – The surface slab to use as a template to generate ordered
chemical orderings. Accept any ase.Atoms object. No need
to be built-in.</p></li>
<li><p><strong>elements</strong> (<em>list of strs</em>) – The metal elements of the alloy catalyst.</p></li>
<li><p><strong>repeating_size</strong> (<em>list of ints</em><em> or </em><em>tuple of ints</em><em>, </em><em>default</em><em> (</em><em>2</em><em>, </em><em>2</em><em>)</em>) – The multiples that describe the size of the repeating pattern
on the surface. Symmetry-equivalent atoms are grouped by
the multiples in the x and y directions. The x or y length of
the cell must be this multiple of the distance between each
pair of symmetry-equivalent atoms. Larger reducing size
generates fewer structures.</p></li>
<li><p><strong>composition</strong> (<em>dict</em><em>, </em><em>default None</em>) – Generate ordered orderings only at a certain composition.
The dictionary contains the metal elements as keys and their
concentrations as values. Generate orderings at all
compositions if not specified.</p></li>
<li><p><strong>dtol</strong> (<em>float</em><em>, </em><em>default 0.01</em>) – The distance tolerance (in Angstrom) when comparing with
(cell length / multiple). Use a larger value if the structure
is distorted.</p></li>
<li><p><strong>ztol</strong> (<em>float</em><em>, </em><em>default 0.1</em>) – The tolerance (in Angstrom) when comparing z values. Use a
larger ztol if the structure is distorted.</p></li>
<li><p><strong>trajectory</strong> (<em>str</em><em>, </em><em>default 'orderings.traj'</em>) – The name of the output ase trajectory file.</p></li>
<li><p><strong>append_trajectory</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to append structures to the existing trajectory.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="acat.build.ordering.OrderedSlabOrderingGenerator.get_groups">
<code class="sig-name descname">get_groups</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/ordering.html#OrderedSlabOrderingGenerator.get_groups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.ordering.OrderedSlabOrderingGenerator.get_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the groups (a list of lists of atom indices) of all
symmetry-equivalent atoms.</p>
</dd></dl>

<dl class="py method">
<dt id="acat.build.ordering.OrderedSlabOrderingGenerator.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_gen</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'systematic'</span></em>, <em class="sig-param"><span class="n">eps</span><span class="o">=</span><span class="default_value">0.01</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/ordering.html#OrderedSlabOrderingGenerator.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.ordering.OrderedSlabOrderingGenerator.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the chemical ordering generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_gen</strong> (<em>int</em><em>, </em><em>default None</em>) – Maximum number of chemical orderings to generate. Running
forever (until exhaustive for systematic search) if not
specified.</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>default 'systematic'</em>) – <p><strong>‘systematic’</strong>: enumerate all possible unique chemical
orderings. Recommended when there are not many groups. Switch
to stochastic mode automatically if the number of groups is
more than 20 (30 if composition is fixed since there are much
fewer structures).</p>
<p><strong>’stochastic’</strong>: sample chemical orderings stochastically.
Duplicate structures can be generated. Recommended when there
are many groups. A greedy algorithm is employed if the
composition is fixed, which might result in slightly different
compositions. This can be controled by eps.</p>
</p></li>
<li><p><strong>eps</strong> (<em>float</em><em>, </em><em>default 0.01</em>) – The tolerance of the concentration for each element (the target
concentration range is [c-eps, c+eps]). Only relevant for
generating fixed-composition symmetric nanoalloys using
‘stochastic’ mode. Set to a small value, e.g. 0.005, if you
want the exact composition accurate to one atom. Please use a
larger eps if the concentrations you specified in compositions
are not accurate enough.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to print out information about number of groups and
number of generated structures.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<div class="section" id="the-symmetricclusterorderinggenerator-class">
<h3>The SymmetricClusterOrderingGenerator class<a class="headerlink" href="#the-symmetricclusterorderinggenerator-class" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="py class">
<dt id="acat.build.ordering.SymmetricClusterOrderingGenerator">
<em class="property">class </em><code class="sig-prename descclassname">acat.build.ordering.</code><code class="sig-name descname">SymmetricClusterOrderingGenerator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">atoms</span></em>, <em class="sig-param"><span class="n">elements</span></em>, <em class="sig-param"><span class="n">symmetry</span><span class="o">=</span><span class="default_value">'spherical'</span></em>, <em class="sig-param"><span class="n">cutoff</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">secondary_symmetry</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">secondary_cutoff</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">composition</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">trajectory</span><span class="o">=</span><span class="default_value">'orderings.traj'</span></em>, <em class="sig-param"><span class="n">append_trajectory</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/ordering.html#SymmetricClusterOrderingGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.ordering.SymmetricClusterOrderingGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>SymmetricClusterOrderingGenerator</cite> is a class for generating
symmetric chemical orderings for a <strong>nanoalloy</strong>. There is no
limitation of the number of metal components. Please always align
the z direction to the symmetry axis of the nanocluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>ase.Atoms object</em>) – The nanoparticle to use as a template to generate symmetric
chemical orderings. Accept any ase.Atoms object. No need to be
built-in.</p></li>
<li><p><strong>elements</strong> (<em>list of strs</em>) – The metal elements of the nanoalloy.</p></li>
<li><p><strong>symmetry</strong> (<em>str</em><em>, </em><em>default 'spherical'</em>) – <p>Support 9 symmetries:</p>
<p><strong>’spherical’</strong>: centrosymmetry (groups defined by the distances
to the geometric center);</p>
<p><strong>’cylindrical’</strong>: cylindrical symmetry around z axis (groups
defined by the distances to the z axis);</p>
<p><strong>’planar’</strong>: planar symmetry around z axis (groups defined by
the z coordinates), common for phase-separated nanoalloys;</p>
<p><strong>’mirror_planar’</strong>: mirror planar symmetry around both
z and xy plane (groups defined by the absolute z coordinate),
high symmetry subset of ‘planar’;
‘circular’ = ring symmetry around z axis (groups defined by
both z coordinate and distance to z axis);</p>
<p><strong>’mirror_circular’</strong>: mirror ring symmetry around both
z and xy plane (groups defined by both absolute z coordinate
and distance to z axis);</p>
<p><strong>’chemical’</strong>: symmetry w.r.t chemical environment (groups
defined by the atomic energies given by a Gupta potential)</p>
<p><strong>’geometrical’</strong>: symmetry w.r.t geometrical environment (groups
defined by vertex / edge / fcc111 / fcc100 / bulk identified
by CNA analysis);</p>
<p><strong>’concentric’</strong>: conventional definition of the concentric
shells (surface / subsurface, subsubsurface, …, core).</p>
</p></li>
<li><p><strong>cutoff</strong> (<em>float</em><em>, </em><em>default 1.0</em>) – Maximum thickness (in Angstrom) of a single group. The thickness
is calculated as the difference between the “distances” of the
closest-to-center atoms in two neighbor groups. Note that the
criterion of “distance” depends on the symmetry. This parameter
works differently if the symmetry is ‘chemical’, ‘geometrical’ or
‘concentric’. For ‘chemical’ it is defined as the maximum atomic
energy difference (in eV) of a single group predicted by a Gupta
potential. For ‘geometrical’ and ‘concentric’ it is defined as
the cutoff radius (in Angstrom) for CNA, and a reasonable cutoff
based on the lattice constant of the material will automatically
be used if cutoff &lt;= 1. Use a larger cutoff if the structure is
distorted.</p></li>
<li><p><strong>secondary_symmetry</strong> (<em>str</em><em>, </em><em>default None</em>) – Add a secondary symmetry check to define groups hierarchically.
For example, even if two atoms are classifed in the same group
defined by the primary symmetry, they can still end up in
different groups if they fall into two different groups defined
by the secondary symmetry. Support 7 symmetries: ‘spherical’,
‘cylindrical’, ‘planar’, ‘mirror_planar’, ‘chemical’, ‘geometrical’
and ‘concentric’. Note that secondary symmetry has the same
importance as the primary symmetry, so you can set either of the
two symmetries of interest as the secondary symmetry. Useful for
combining symmetries of different types (e.g. circular + chemical)
or combining symmetries with different cutoffs.</p></li>
<li><p><strong>secondary_cutoff</strong> (<em>float</em><em>, </em><em>default 1.0</em>) – Same as cutoff, except that it is for the secondary symmetry.</p></li>
<li><p><strong>composition</strong> (<em>dict</em><em>, </em><em>default None</em>) – Generate symmetric orderings only at a certain composition.
The dictionary contains the metal elements as keys and their
concentrations as values. Generate orderings at all compositions
if not specified.</p></li>
<li><p><strong>trajectory</strong> (<em>str</em><em>, </em><em>default 'orderings.traj'</em>) – The name of the output ase trajectory file.</p></li>
<li><p><strong>append_trajectory</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to append structures to the existing trajectory.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="acat.build.ordering.SymmetricClusterOrderingGenerator.get_sorted_indices">
<code class="sig-name descname">get_sorted_indices</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">symmetry</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/ordering.html#SymmetricClusterOrderingGenerator.get_sorted_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.ordering.SymmetricClusterOrderingGenerator.get_sorted_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the indices sorted by the metric that defines different
groups, together with the corresponding vlues, given a specific
symmetry. Returns the indices sorted by geometrical environment if
symmetry=’geometrical’. Returns the indices sorted by surface,
subsurface, subsubsurface, …, core if symmetry=’concentric’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>symmetry</strong> (<em>str</em>) – Support 7 symmetries: spherical, cylindrical, planar,
mirror_planar, chemical, geometrical, concentric.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="acat.build.ordering.SymmetricClusterOrderingGenerator.get_groups">
<code class="sig-name descname">get_groups</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/ordering.html#SymmetricClusterOrderingGenerator.get_groups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.ordering.SymmetricClusterOrderingGenerator.get_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the groups (a list of lists of atom indices) of all
symmetry-equivalent atoms.</p>
</dd></dl>

<dl class="py method">
<dt id="acat.build.ordering.SymmetricClusterOrderingGenerator.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_gen</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'systematic'</span></em>, <em class="sig-param"><span class="n">eps</span><span class="o">=</span><span class="default_value">0.01</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/ordering.html#SymmetricClusterOrderingGenerator.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.ordering.SymmetricClusterOrderingGenerator.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the chemical ordering generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_gen</strong> (<em>int</em><em>, </em><em>default None</em>) – Maximum number of chemical orderings to generate. Running
forever (until exhaustive for systematic search) if not
specified.</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>default 'systematic'</em>) – <p><strong>‘systematic’</strong>: enumerate all possible unique chemical
orderings. Recommended when there are not many groups. Switch
to stochastic mode automatically if the number of groups is
more than 20 (30 if composition is fixed since there are much
fewer structures).</p>
<p><strong>’stochastic’</strong>: sample chemical orderings stochastically.
Duplicate structures can be generated. Recommended when there
are many groups. A greedy algorithm is employed if the
composition is fixed, which might result in slightly different
compositions. This can be controled by eps.</p>
</p></li>
<li><p><strong>eps</strong> (<em>float</em><em>, </em><em>default 0.01</em>) – The tolerance of the concentration for each element (the target
concentration range is [c-eps, c+eps]). Only relevant for
generating fixed-composition symmetric nanoalloys using
‘stochastic’ mode. Set to a small value, e.g. 0.005, if you
want the exact composition accurate to one atom. Please use a
larger eps if the concentrations you specified in compositions
are not accurate enough.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to print out information about number of groups and
number of generated structures.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<p><strong>Example1</strong></p>
<p>To generate 100 symmetric chemical orderings for truncated
octahedral NiPt nanoalloys with spherical symmetry:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.ordering</span> <span class="kn">import</span> <span class="n">SymmetricClusterOrderingGenerator</span> <span class="k">as</span> <span class="n">SCOG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.cluster</span> <span class="kn">import</span> <span class="n">Octahedron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.io</span> <span class="kn">import</span> <span class="n">read</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">Octahedron</span><span class="p">(</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">cutoff</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scog</span> <span class="o">=</span> <span class="n">SCOG</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="s1">&#39;Pt&#39;</span><span class="p">],</span> <span class="n">symmetry</span><span class="o">=</span><span class="s1">&#39;spherical&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scog</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">max_gen</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="s1">&#39;orderings.traj&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">images</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<blockquote>
<div><div class="line-block">
<div class="line">10 symmetry-equivalent groups classified</div>
<div class="line">100 symmetric chemical orderings generated</div>
</div>
</div></blockquote>
<a class="reference internal image-reference" href="_images/SymmetricClusterOrderingGenerator1.gif"><img alt="_images/SymmetricClusterOrderingGenerator1.gif" class="align-center" src="_images/SymmetricClusterOrderingGenerator1.gif" style="width: 208.2px; height: 208.2px;" /></a>
<p><strong>Example2</strong></p>
<p>To systematically generate 50 symmetric chemical orderings for
quaternary truncated octahedral Ni0.4Cu0.3Pt0.2Au0.1 nanoalloys
with mirror circular symmetry:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.ordering</span> <span class="kn">import</span> <span class="n">SymmetricClusterOrderingGenerator</span> <span class="k">as</span> <span class="n">SCOG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.cluster</span> <span class="kn">import</span> <span class="n">Octahedron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.io</span> <span class="kn">import</span> <span class="n">read</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">Octahedron</span><span class="p">(</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scog</span> <span class="o">=</span> <span class="n">SCOG</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="s1">&#39;Cu&#39;</span><span class="p">,</span> <span class="s1">&#39;Pt&#39;</span><span class="p">,</span> <span class="s1">&#39;Au&#39;</span><span class="p">],</span>
<span class="gp">... </span>            <span class="n">symmetry</span><span class="o">=</span><span class="s1">&#39;mirror_circular&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">composition</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Ni&#39;</span><span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span> <span class="s1">&#39;Cu&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;Pt&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;Au&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scog</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">max_gen</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;systematic&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="s1">&#39;orderings.traj&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">images</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<blockquote>
<div><div class="line-block">
<div class="line">25 symmetry-equivalent groups classified</div>
<div class="line">50 symmetric chemical orderings generated</div>
</div>
</div></blockquote>
<a class="reference internal image-reference" href="_images/SymmetricClusterOrderingGenerator2.gif"><img alt="_images/SymmetricClusterOrderingGenerator2.gif" class="align-center" src="_images/SymmetricClusterOrderingGenerator2.gif" style="width: 211.2px; height: 211.2px;" /></a>
<p><strong>Example3</strong></p>
<p>To stochastically generate 50 symmetric chemical orderings for
quaternary truncated octahedral Ni0.4Cu0.3Pt0.2Au0.1 nanoalloys
with mirror circular symmetry:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.ordering</span> <span class="kn">import</span> <span class="n">SymmetricClusterOrderingGenerator</span> <span class="k">as</span> <span class="n">SCOG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.cluster</span> <span class="kn">import</span> <span class="n">Octahedron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.io</span> <span class="kn">import</span> <span class="n">read</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">Octahedron</span><span class="p">(</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scog</span> <span class="o">=</span> <span class="n">SCOG</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="s1">&#39;Cu&#39;</span><span class="p">,</span> <span class="s1">&#39;Pt&#39;</span><span class="p">,</span> <span class="s1">&#39;Au&#39;</span><span class="p">],</span>
<span class="gp">... </span>            <span class="n">symmetry</span><span class="o">=</span><span class="s1">&#39;mirror_circular&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">composition</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Ni&#39;</span><span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span> <span class="s1">&#39;Cu&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;Pt&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;Au&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scog</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">max_gen</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;stochastic&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="s1">&#39;orderings.traj&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">images</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<blockquote>
<div><div class="line-block">
<div class="line">25 symmetry-equivalent groups classified</div>
<div class="line">50 symmetric chemical orderings generated</div>
</div>
</div></blockquote>
<a class="reference internal image-reference" href="_images/SymmetricClusterOrderingGenerator3.gif"><img alt="_images/SymmetricClusterOrderingGenerator3.gif" class="align-center" src="_images/SymmetricClusterOrderingGenerator3.gif" style="width: 384.0px; height: 288.0px;" /></a>
<p><strong>Example4</strong></p>
<p>Sometimes it is also useful to get the structure of each group.
For instance, to visualize the concentric shells of a truncated
octahedral nanoparticle:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.ordering</span> <span class="kn">import</span> <span class="n">SymmetricClusterOrderingGenerator</span> <span class="k">as</span> <span class="n">SCOG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.cluster</span> <span class="kn">import</span> <span class="n">Octahedron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">Octahedron</span><span class="p">(</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scog</span> <span class="o">=</span> <span class="n">SCOG</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="s1">&#39;Pt&#39;</span><span class="p">],</span> <span class="n">symmetry</span><span class="o">=</span><span class="s1">&#39;concentric&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">groups</span> <span class="o">=</span> <span class="n">scog</span><span class="o">.</span><span class="n">get_groups</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="p">[</span><span class="n">atoms</span><span class="p">[</span><span class="n">g</span><span class="p">]</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">groups</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">images</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<a class="reference internal image-reference" href="_images/SymmetricClusterOrderingGenerator4.gif"><img alt="_images/SymmetricClusterOrderingGenerator4.gif" class="align-center" src="_images/SymmetricClusterOrderingGenerator4.gif" style="width: 189.0px; height: 189.0px;" /></a>
</div></blockquote>
</div>
<div class="section" id="the-orderedslaborderinggenerator-class">
<h3>The OrderedSlabOrderingGenerator class<a class="headerlink" href="#the-orderedslaborderinggenerator-class" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="py class">
<dt id="id0">
<em class="property">class </em><code class="sig-prename descclassname">acat.build.ordering.</code><code class="sig-name descname">OrderedSlabOrderingGenerator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">atoms</span></em>, <em class="sig-param"><span class="n">elements</span></em>, <em class="sig-param"><span class="n">repeating_size</span><span class="o">=</span><span class="default_value">2, 2</span></em>, <em class="sig-param"><span class="n">composition</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dtol</span><span class="o">=</span><span class="default_value">0.01</span></em>, <em class="sig-param"><span class="n">ztol</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">trajectory</span><span class="o">=</span><span class="default_value">'orderings.traj'</span></em>, <em class="sig-param"><span class="n">append_trajectory</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/ordering.html#OrderedSlabOrderingGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>OrderedSlabOrderingGenerator</cite> is a class for generating
ordered chemical orderings for a <strong>alloy surface slab</strong>.
There is no limitation of the number of metal components.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>ase.Atoms object</em>) – The surface slab to use as a template to generate ordered
chemical orderings. Accept any ase.Atoms object. No need
to be built-in.</p></li>
<li><p><strong>elements</strong> (<em>list of strs</em>) – The metal elements of the alloy catalyst.</p></li>
<li><p><strong>repeating_size</strong> (<em>list of ints</em><em> or </em><em>tuple of ints</em><em>, </em><em>default</em><em> (</em><em>2</em><em>, </em><em>2</em><em>)</em>) – The multiples that describe the size of the repeating pattern
on the surface. Symmetry-equivalent atoms are grouped by
the multiples in the x and y directions. The x or y length of
the cell must be this multiple of the distance between each
pair of symmetry-equivalent atoms. Larger reducing size
generates fewer structures.</p></li>
<li><p><strong>composition</strong> (<em>dict</em><em>, </em><em>default None</em>) – Generate ordered orderings only at a certain composition.
The dictionary contains the metal elements as keys and their
concentrations as values. Generate orderings at all
compositions if not specified.</p></li>
<li><p><strong>dtol</strong> (<em>float</em><em>, </em><em>default 0.01</em>) – The distance tolerance (in Angstrom) when comparing with
(cell length / multiple). Use a larger value if the structure
is distorted.</p></li>
<li><p><strong>ztol</strong> (<em>float</em><em>, </em><em>default 0.1</em>) – The tolerance (in Angstrom) when comparing z values. Use a
larger ztol if the structure is distorted.</p></li>
<li><p><strong>trajectory</strong> (<em>str</em><em>, </em><em>default 'orderings.traj'</em>) – The name of the output ase trajectory file.</p></li>
<li><p><strong>append_trajectory</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to append structures to the existing trajectory.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="id1">
<code class="sig-name descname">get_groups</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/ordering.html#OrderedSlabOrderingGenerator.get_groups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id1" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the groups (a list of lists of atom indices) of all
symmetry-equivalent atoms.</p>
</dd></dl>

<dl class="py method">
<dt id="id2">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">max_gen</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'systematic'</span></em>, <em class="sig-param"><span class="n">eps</span><span class="o">=</span><span class="default_value">0.01</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/ordering.html#OrderedSlabOrderingGenerator.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#id2" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the chemical ordering generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_gen</strong> (<em>int</em><em>, </em><em>default None</em>) – Maximum number of chemical orderings to generate. Running
forever (until exhaustive for systematic search) if not
specified.</p></li>
<li><p><strong>mode</strong> (<em>str</em><em>, </em><em>default 'systematic'</em>) – <p><strong>‘systematic’</strong>: enumerate all possible unique chemical
orderings. Recommended when there are not many groups. Switch
to stochastic mode automatically if the number of groups is
more than 20 (30 if composition is fixed since there are much
fewer structures).</p>
<p><strong>’stochastic’</strong>: sample chemical orderings stochastically.
Duplicate structures can be generated. Recommended when there
are many groups. A greedy algorithm is employed if the
composition is fixed, which might result in slightly different
compositions. This can be controled by eps.</p>
</p></li>
<li><p><strong>eps</strong> (<em>float</em><em>, </em><em>default 0.01</em>) – The tolerance of the concentration for each element (the target
concentration range is [c-eps, c+eps]). Only relevant for
generating fixed-composition symmetric nanoalloys using
‘stochastic’ mode. Set to a small value, e.g. 0.005, if you
want the exact composition accurate to one atom. Please use a
larger eps if the concentrations you specified in compositions
are not accurate enough.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to print out information about number of groups and
number of generated structures.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<p><strong>Example1</strong></p>
<p>To stochastically generate 50 ordered chemical orderings for
ternary NixPtyAu1-x-y fcc111 surface slabs:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.ordering</span> <span class="kn">import</span> <span class="n">OrderedSlabOrderingGenerator</span> <span class="k">as</span> <span class="n">OSOG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.build</span> <span class="kn">import</span> <span class="n">fcc111</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.io</span> <span class="kn">import</span> <span class="n">read</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">fcc111</span><span class="p">(</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span><span class="o">.</span><span class="n">center</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">osog</span> <span class="o">=</span> <span class="n">OSOG</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="s1">&#39;Pt&#39;</span><span class="p">,</span> <span class="s1">&#39;Au&#39;</span><span class="p">],</span>
<span class="gp">... </span>            <span class="n">repeating_size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">osog</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">max_gen</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;stochastic&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="s1">&#39;orderings.traj&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">images</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<blockquote>
<div><div class="line-block">
<div class="line">16 symmetry-equivalent groups classified</div>
<div class="line">50 ordered chemical orderings generated</div>
</div>
</div></blockquote>
<a class="reference internal image-reference" href="_images/OrderedSlabOrderingGenerator1.gif"><img alt="_images/OrderedSlabOrderingGenerator1.gif" class="align-center" src="_images/OrderedSlabOrderingGenerator1.gif" style="width: 384.0px; height: 288.0px;" /></a>
<p><strong>Example2</strong></p>
<p>To systematically generate 50 ordered chemical orderings for
Ni0.75Pt0.25 fcc110 surface slabs:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.ordering</span> <span class="kn">import</span> <span class="n">OrderedSlabOrderingGenerator</span> <span class="k">as</span> <span class="n">OSOG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.build</span> <span class="kn">import</span> <span class="n">fcc110</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.io</span> <span class="kn">import</span> <span class="n">read</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">fcc110</span><span class="p">(</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span><span class="o">.</span><span class="n">center</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">osog</span> <span class="o">=</span> <span class="n">OSOG</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="s1">&#39;Pt&#39;</span><span class="p">],</span>
<span class="gp">... </span>            <span class="n">composition</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Ni&#39;</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span> <span class="s1">&#39;Pt&#39;</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">},</span>
<span class="gp">... </span>            <span class="n">repeating_size</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">osog</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">max_gen</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;systematic&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="s1">&#39;orderings.traj&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">images</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<blockquote>
<div><div class="line-block">
<div class="line">16 symmetry-equivalent groups classified</div>
<div class="line">50 ordered chemical orderings generated</div>
</div>
</div></blockquote>
<a class="reference internal image-reference" href="_images/OrderedSlabOrderingGenerator2.gif"><img alt="_images/OrderedSlabOrderingGenerator2.gif" class="align-center" src="_images/OrderedSlabOrderingGenerator2.gif" style="width: 384.0px; height: 288.0px;" /></a>
<p><strong>Example3</strong></p>
<p>To stochastically generate 50 ordered chemical orderings for
Ni0.75Pt0.25 fcc110 surface slabs:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.ordering</span> <span class="kn">import</span> <span class="n">OrderedSlabOrderingGenerator</span> <span class="k">as</span> <span class="n">OSOG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.build</span> <span class="kn">import</span> <span class="n">fcc110</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.io</span> <span class="kn">import</span> <span class="n">read</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">fcc110</span><span class="p">(</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span><span class="o">.</span><span class="n">center</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">osog</span> <span class="o">=</span> <span class="n">OSOG</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="s1">&#39;Pt&#39;</span><span class="p">],</span>
<span class="gp">... </span>            <span class="n">composition</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Ni&#39;</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span> <span class="s1">&#39;Pt&#39;</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">},</span>
<span class="gp">... </span>            <span class="n">repeating_size</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">osog</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">max_gen</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;stochastic&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="s1">&#39;orderings.traj&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">images</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<blockquote>
<div><div class="line-block">
<div class="line">16 symmetry-equivalent groups classified</div>
<div class="line">50 ordered chemical orderings generated</div>
</div>
</div></blockquote>
<a class="reference internal image-reference" href="_images/OrderedSlabOrderingGenerator3.gif"><img alt="_images/OrderedSlabOrderingGenerator3.gif" class="align-center" src="_images/OrderedSlabOrderingGenerator3.gif" style="width: 384.0px; height: 288.0px;" /></a>
</div></blockquote>
</div>
<div class="section" id="the-randomorderinggenerator-class">
<h3>The RandomOrderingGenerator class<a class="headerlink" href="#the-randomorderinggenerator-class" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="py class">
<dt id="acat.build.ordering.RandomOrderingGenerator">
<em class="property">class </em><code class="sig-prename descclassname">acat.build.ordering.</code><code class="sig-name descname">RandomOrderingGenerator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">atoms</span></em>, <em class="sig-param"><span class="n">elements</span></em>, <em class="sig-param"><span class="n">composition</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">trajectory</span><span class="o">=</span><span class="default_value">'orderings.traj'</span></em>, <em class="sig-param"><span class="n">append_trajectory</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/ordering.html#RandomOrderingGenerator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.ordering.RandomOrderingGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>RandomOrderingGenerator</cite> is a class for generating random
chemical orderings for an alloy catalyst. The function is
generalized for both periodic and non-periodic systems, and
there is no limitation of the number of metal components.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>atoms</strong> (<em>ase.Atoms object</em>) – The nanoparticle or surface slab to use as a template to
generate random chemical orderings. Accept any ase.Atoms
object. No need to be built-in.</p></li>
<li><p><strong>elements</strong> (<em>list of strs</em>) – The metal elements of the alloy catalyst.</p></li>
<li><p><strong>composition</strong> (<em>dict</em><em>, </em><em>default None</em>) – Generate random orderings only at a certain composition.
The dictionary contains the metal elements as keys and
their concentrations as values. Generate orderings at all
compositions if not specified.</p></li>
<li><p><strong>trajectory</strong> (<em>str</em><em>, </em><em>default 'orderings.traj'</em>) – The name of the output ase trajectory file.</p></li>
<li><p><strong>append_trajectory</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to append structures to the existing trajectory.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="acat.build.ordering.RandomOrderingGenerator.randint_with_sum">
<code class="sig-name descname">randint_with_sum</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/ordering.html#RandomOrderingGenerator.randint_with_sum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.ordering.RandomOrderingGenerator.randint_with_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a randomly chosen list of N positive integers i
summing to the number of atoms. N is the number of elements.
Each such list is equally likely to occur.</p>
</dd></dl>

<dl class="py method">
<dt id="acat.build.ordering.RandomOrderingGenerator.random_split_indices">
<code class="sig-name descname">random_split_indices</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/ordering.html#RandomOrderingGenerator.random_split_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.ordering.RandomOrderingGenerator.random_split_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate random chunks of indices given sizes of each
chunk.</p>
</dd></dl>

<dl class="py method">
<dt id="acat.build.ordering.RandomOrderingGenerator.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_gen</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/acat/build/ordering.html#RandomOrderingGenerator.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#acat.build.ordering.RandomOrderingGenerator.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the chemical ordering generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num_gen</strong> (<em>int</em>) – Number of chemical orderings to generate.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<p><strong>Example1</strong></p>
<p>To generate 50 random chemical orderings for icosahedral
Ni0.5Pt0.2Au0.3 nanoalloys:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.ordering</span> <span class="kn">import</span> <span class="n">RandomOrderingGenerator</span> <span class="k">as</span> <span class="n">ROG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.cluster</span> <span class="kn">import</span> <span class="n">Icosahedron</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.io</span> <span class="kn">import</span> <span class="n">read</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">Icosahedron</span><span class="p">(</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="n">noshells</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rog</span> <span class="o">=</span> <span class="n">ROG</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="s1">&#39;Pt&#39;</span><span class="p">,</span> <span class="s1">&#39;Au&#39;</span><span class="p">],</span>
<span class="gp">... </span>          <span class="n">composition</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Ni&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;Pt&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span> <span class="s1">&#39;Au&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rog</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">num_gen</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="s1">&#39;orderings.traj&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">images</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<a class="reference internal image-reference" href="_images/RandomOrderingGenerator1.gif"><img alt="_images/RandomOrderingGenerator1.gif" class="align-center" src="_images/RandomOrderingGenerator1.gif" style="width: 192.6px; height: 193.79999999999998px;" /></a>
<p><strong>Example2</strong></p>
<p>To generate 50 random chemical orderings for Pt0.5Au0.5
fcc111 surface slabs:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">acat.build.ordering</span> <span class="kn">import</span> <span class="n">RandomOrderingGenerator</span> <span class="k">as</span> <span class="n">ROG</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.build</span> <span class="kn">import</span> <span class="n">fcc111</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.io</span> <span class="kn">import</span> <span class="n">read</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">ase.visualize</span> <span class="kn">import</span> <span class="n">view</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span> <span class="o">=</span> <span class="n">fcc111</span><span class="p">(</span><span class="s1">&#39;Ni&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span> <span class="n">vacuum</span><span class="o">=</span><span class="mf">5.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">atoms</span><span class="o">.</span><span class="n">center</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rog</span> <span class="o">=</span> <span class="n">ROG</span><span class="p">(</span><span class="n">atoms</span><span class="p">,</span> <span class="n">elements</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Pt&#39;</span><span class="p">,</span> <span class="s1">&#39;Au&#39;</span><span class="p">],</span>
<span class="gp">... </span>          <span class="n">composition</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Pt&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;Au&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rog</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">num_gen</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">images</span> <span class="o">=</span> <span class="n">read</span><span class="p">(</span><span class="s1">&#39;orderings.traj&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="p">(</span><span class="n">images</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<a class="reference internal image-reference" href="_images/RandomOrderingGenerator2.gif"><img alt="_images/RandomOrderingGenerator2.gif" class="align-center" src="_images/RandomOrderingGenerator2.gif" style="width: 384.0px; height: 288.0px;" /></a>
</div></blockquote>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="ga.html" class="btn btn-neutral float-right" title="Genetic algorithm" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="modules.html" class="btn btn-neutral float-left" title="Base modules" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Shuang Han.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>