(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[3694,8579],{3694:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>q});var n=o(65579),a=o(96667),r=o(49839),i=o(79870),s=o(30084),l=o(2952),d=o(807),c=o(82647),p=o(19701),u=o(76943),m=o(78429),g=o(36735);const b=new RegExp("/(notebooks|edit)/(.*)");var h;!function(e){e.toggleTop="application:toggle-top",e.toggleZen="application:toggle-zen",e.openLab="application:open-lab",e.openTree="application:open-tree",e.resolveTree="application:resolve-tree"}(h||(h={}));const v={id:"@retrolab/application-extension:dirty",autoStart:!0,requires:[n.ILabStatus,d.ITranslator],activate:(e,t,o)=>{if(!(e instanceof c.RetroApp))throw new Error(`${v.id} must be activated in RetroLab.`);const n=o.load("jupyterlab").__("Are you sure you want to exit RetroLab?\n\nAny unsaved changes will be lost.");window.addEventListener("beforeunload",(t=>{if(e.status.isDirty)return t.returnValue=n}))}},x={id:"@retrolab/application-extension:logo",autoStart:!0,activate:e=>{const t=r.PageConfig.getBaseUrl(),o=document.createElement("a");o.href=`${t}retro/tree`,o.target="_blank",o.rel="noopener noreferrer";const n=new g.Widget({node:o});("true"===r.PageConfig.getOption("retroLogo")?p.retroInlineIcon:p.jupyterIcon).element({container:o,elementPosition:"center",padding:"2px 2px 2px 8px",height:"28px",width:"auto"}),n.id="jp-RetroLogo",e.shell.add(n,"top",{rank:0})}},f={id:"@retrolab/application-extension:opener",autoStart:!0,requires:[n.IRouter,i.IDocumentManager],activate:(e,t,o)=>{const{commands:n}=e,a="router:tree";n.addCommand(a,{execute:t=>{var n;const a=null!==(n=t.path.match(b))&&void 0!==n?n:[],[,,i]=a;if(!i)return;const s=decodeURIComponent(i),l=r.PathExt.extname(s);e.restored.then((()=>{".ipynb"===l?o.open(s,"Notebook",void 0,{ref:"_noref"}):o.open(s,"Editor",void 0,{ref:"_noref"})}))}}),t.register({command:a,pattern:b})}},w={id:"@retrolab/application-extension:no-tabs-menu",requires:[l.IMainMenu],autoStart:!0,activate:(e,t)=>{t.tabsMenu.dispose()}},R={id:"@retrolab/application-extension:pages",autoStart:!0,optional:[a.ICommandPalette,l.IMainMenu],activate:(e,t,o)=>{const n=r.PageConfig.getBaseUrl();e.commands.addCommand(h.openLab,{label:"Open JupyterLab",execute:()=>{window.open(`${n}lab`)}}),e.commands.addCommand(h.openTree,{label:"Open Files",execute:()=>{window.open(`${n}retro/tree`)}}),t&&[h.openLab,h.openTree].forEach((e=>{t.addItem({command:e,category:"View"})})),o&&o.viewMenu.addGroup([{command:h.openLab},{command:h.openTree}],0)}},I={id:"@retrolab/application-extension:paths",autoStart:!0,provides:n.JupyterFrontEnd.IPaths,activate:e=>{if(!(e instanceof c.RetroApp))throw new Error(`${I.id} must be activated in RetroLab.`);return e.paths}},S={id:"@retrolab/application-extension:router",autoStart:!0,provides:n.IRouter,requires:[n.JupyterFrontEnd.IPaths],activate:(e,t)=>{const{commands:o}=e,a=t.urls.base,r=new n.Router({base:a,commands:o});return e.started.then((()=>{r.route(),window.addEventListener("popstate",(()=>{r.route()}))})),r}},C={id:"@retrolab/application-extension:session-dialogs",provides:a.ISessionContextDialogs,autoStart:!0,activate:()=>a.sessionContextDialogs},E={id:"@retrolab/application-extension:shell",activate:e=>{if(!(e.shell instanceof c.RetroShell))throw new Error(`${E.id} did not find a RetroShell instance.`);return e.shell},autoStart:!0,provides:c.IRetroShell},T={id:"@retrolab/application-extension:spacer",autoStart:!0,activate:e=>{const t=new g.Widget;t.id=a.DOMUtils.createDomID(),t.addClass("jp-RetroSpacer"),e.shell.add(t,"top",{rank:1e4});const o=new g.Widget;o.id=a.DOMUtils.createDomID(),o.addClass("jp-RetroSpacer"),e.shell.add(o,"menu",{rank:1e4})}},P={id:"@retrolab/application-extension:status",autoStart:!0,provides:n.ILabStatus,activate:e=>{if(!(e instanceof c.RetroApp))throw new Error(`${P.id} must be activated in RetroLab.`);return e.status}},L={id:"@retrolab/application-extension:tab-title",autoStart:!0,requires:[c.IRetroShell],activate:(e,t)=>{const o=()=>{const e=t.currentWidget;if(!(e instanceof s.DocumentWidget))return;const o=()=>{const t=r.PathExt.basename(e.context.path);document.title=t};e.context.pathChanged.connect(o),o()};t.currentChanged.connect(o),o()}},D={id:"@retrolab/application-extension:title",autoStart:!0,requires:[c.IRetroShell],optional:[i.IDocumentManager,n.IRouter],activate:(e,t,o,n)=>{const a=new g.Widget;a.id="jp-title",e.shell.add(a,"top",{rank:10});const l=async()=>{const e=t.currentWidget;if(!(e&&e instanceof s.DocumentWidget))return;if(a.node.children.length>0)return;const l=document.createElement("h1");l.textContent=e.title.label,a.node.appendChild(l),a.node.style.marginLeft="10px",o&&(a.node.onclick=async()=>{var t,a;const s=await(0,i.renameDialog)(o,e.context.path);if(e&&e.activate(),null===s)return;const d=null!==(t=e.context.path)&&void 0!==t?t:s.path,c=r.PathExt.basename(d);if(l.textContent=c,!n)return;const p=null!==(a=n.current.path.match(b))&&void 0!==a?a:[],[,u,m]=p;if(!u||!m)return;const g=encodeURIComponent(d);n.navigate(`/retro/${u}/${g}`,{skipRouting:!0})})};t.currentChanged.connect(l),l()}},y={id:"@retrolab/application-extension:top",requires:[c.IRetroShell],optional:[l.IMainMenu],activate:(e,t,o)=>{const n=t.top;e.commands.addCommand(h.toggleTop,{label:"Show Header",execute:()=>{n.setHidden(n.isVisible)},isToggled:()=>n.isVisible}),o&&o.viewMenu.addGroup([{command:h.toggleTop}],2);const a=()=>{"desktop"===e.format?t.expandTop():t.collapseTop()};e.formatChanged.connect(a),a()},autoStart:!0},M={id:"@retrolab/application-extension:translator",activate:e=>new d.TranslationManager,autoStart:!0,provides:d.ITranslator},U={id:"@retrolab/application-extension:tree-resolver",autoStart:!0,requires:[n.IRouter],provides:n.JupyterFrontEnd.ITreeResolver,activate:(e,t)=>{const{commands:o}=e,n=new m.DisposableSet,a=new u.PromiseDelegate,i=new RegExp("/retro(/tree/.*)?");n.add(o.addCommand(h.resolveTree,{execute:async e=>{var t;if(n.isDisposed)return;const o=r.URLExt.queryStringToObject(null!==(t=e.search)&&void 0!==t?t:""),i=o["file-browser-path"]||"";delete o["file-browser-path"],n.dispose(),a.resolve({browser:i,file:r.PageConfig.getOption("treePath")})}})),n.add(t.register({command:h.resolveTree,pattern:i}));const s=()=>{n.isDisposed||(n.dispose(),a.resolve(null))};return t.routed.connect(s),n.add(new m.DisposableDelegate((()=>{t.routed.disconnect(s)}))),{paths:a.promise}}},k={id:"@retrolab/application-extension:tree-updater",requires:[n.IRouter],provides:n.ITreePathUpdater,activate:(e,t)=>function(e){if(e!==r.PageConfig.getOption("treePath")){const o=r.URLExt.join(r.PageConfig.getOption("baseUrl")||"/","retro","tree",r.URLExt.encodeParts(e));t.navigate(o,{skipRouting:!0}),r.PageConfig.setOption("treePath",e)}},autoStart:!0},O={id:"@retrolab/application-extension:zen",autoStart:!0,optional:[a.ICommandPalette,c.IRetroShell,l.IMainMenu],activate:(e,t,o,n)=>{const{commands:a}=e,r=document.documentElement,i=()=>{null==o||o.expandTop(),null==o||o.menu.setHidden(!1),s=!1};let s=!1;a.addCommand(h.toggleZen,{label:"Toggle Zen Mode",execute:()=>{s?(document.exitFullscreen(),i()):(r.requestFullscreen(),null==o||o.collapseTop(),null==o||o.menu.setHidden(!0),s=!0)}}),document.addEventListener("fullscreenchange",(()=>{document.fullscreenElement||i()})),t&&t.addItem({command:h.toggleZen,category:"Mode"}),n&&n.viewMenu.addGroup([{command:h.toggleZen}],3)}},q=[v,x,w,f,R,I,S,C,E,T,P,L,D,y,M,U,k,O]}}]);